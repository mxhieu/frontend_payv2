{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\src\\\\components\\\\Paytogame.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport \"../assets/css/paytogame.css\";\nimport gameActions from \"../actions/games.actions\";\nimport paymentActions from \"../actions/payment.actions\";\nimport { withRouter } from 'react-router-dom';\nimport * as _ from 'lodash';\nimport Form from 'react-validation/build/form';\nimport Input from 'react-validation/build/input';\nimport Select from 'react-validation/build/select';\nimport CheckButton from 'react-validation/build/button';\nimport { required, minLength, maxLength } from \"../utils/validateInput\";\n\nclass Paytogame extends Component {\n  constructor(props) {\n    super(props);\n\n    this.checkHasRole = () => {\n      let errorSelectRole = [];\n\n      if (this.state.sltRoleId === '') {\n        errorSelectRole.push('không tìm thấy thông tin nhân vật');\n      }\n\n      this.setState({\n        errorSelectRole: errorSelectRole\n      });\n      return errorSelectRole;\n    };\n\n    this.handlePayByCard = e => {\n      e.preventDefault();\n      this.formCardPay.validateAll();\n      let errorRole = this.checkHasRole();\n\n      if (this.checkBtn1.context._errors.length === 0 && errorRole.length === 0) {\n        this.props.chargeCard(this.state);\n      }\n    };\n\n    this.handlePayByATM = e => {\n      e.preventDefault();\n      this.formAtmPay.validateAll();\n      let errorRole = this.checkHasRole();\n\n      if (this.checkBtn2.context._errors.length === 0 && errorRole.length === 0) {\n        this.props.chargeAtm(this.state);\n      }\n    };\n\n    this.hanleGetRole = event => {\n      const target = event.target;\n      const serverId = target.value;\n\n      if (serverId !== '') {\n        this.props.getUserRole(serverId, JSON.parse(localStorage.getItem('user')).data.id, this.state.gameInfo.agent);\n      }\n\n      this.setState({\n        sltServer: serverId\n      });\n    };\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.state = {\n      username: JSON.parse(localStorage.getItem('user')).data.username,\n      userRole: {},\n      sltRoleId: '',\n      sltServer: '',\n      sltCardType: '',\n      txtSerie: '',\n      txtCardPin: '',\n      sltAmount: '',\n      gameInfo: {},\n      chargeSuccessMSG: '',\n      errorsAtm: [],\n      errorsCard: [],\n      errorSelectServer: [],\n      errorSelectRole: []\n    };\n  }\n\n  componentDidMount() {\n    let {\n      match\n    } = this.props;\n    this.props.getDetailGameToGame(match.params.id);\n\n    let queryString = require('query-string');\n\n    let strParams = this.props.location.search;\n    let params = queryString.parse(strParams);\n\n    if (_.has(params, 'trans_id')) {\n      this.props.chargeAtmSuccess(strParams);\n      console.log(this.props);\n\n      if (this.props.paymentReducer.chargeAtmSuccess.messages !== null) {\n        let modalATMReport = window.$('.modal-atm-report');\n        modalATMReport.modal('show');\n        modalATMReport.on('click', function () {\n          modalATMReport.modal('hide');\n        });\n      }\n    }\n  }\n\n  componentDidUpdate(previousProps, previousState) {\n    if (Object.keys(previousState.gameInfo).length === 0) {\n      let gameData = previousProps.gamesReducer.data;\n\n      for (var key in gameData) {\n        if (gameData.hasOwnProperty(key)) {\n          if (gameData[key].slug === previousProps.match.params.slug) {\n            this.setState({\n              gameInfo: gameData[key]\n            });\n          }\n        }\n      }\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let userRole = nextProps.paymentReducer.userRole.data;\n\n    if (prevState.sltServer !== '' && userRole) {\n      return {\n        userRole: nextProps.paymentReducer.userRole,\n        sltRoleId: prevState.sltRoleId !== '' ? prevState.sltRoleId : userRole.role[0].roleId,\n        errorSelectRole: []\n      };\n    }\n\n    return {\n      userRole: {},\n      sltRoleId: ''\n    };\n  }\n\n  render() {\n    console.log(this.state);\n    let chargeAtmMSG = '';\n\n    if (this.props.paymentReducer.chargeAtmSuccess.data !== undefined) {\n      chargeAtmMSG = this.props.paymentReducer.chargeAtmSuccess.data.messages;\n    }\n\n    let server = this.props.gamesReducer.detail;\n    let serverElement = null;\n\n    if (server.length > 0) {\n      serverElement = server.map((val, index) => {\n        return React.createElement(\"option\", {\n          key: index,\n          value: val.server_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, val.server_name);\n      });\n    }\n\n    let {\n      errorSelectServer,\n      gameInfo,\n      userRole,\n      errorSelectRole\n    } = this.state;\n    let {\n      paymentReducer\n    } = this.props;\n\n    if (Object.keys(gameInfo).length === 0 || server.length === 0) {\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"lds-dual-ring\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"container paytogame_container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, gameInfo.name), React.createElement(\"div\", {\n        className: \"hd-Form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \" B\\u01B0\\u1EDBc 1: Ch\\u1ECDn th\\xF4ng tin nh\\xE2n v\\u1EADt (*)\"), React.createElement(\"label\", {\n        htmlFor: \"sltServer\",\n        className: \"col-sm-12 controll-label\",\n        id: \"list_server\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \" Ch\\u1ECDn server:\"), errorSelectServer && React.createElement(\"span\", {\n        className: \"input-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, errorSelectServer[0]), React.createElement(\"select\", {\n        name: \"sltServer\",\n        value: this.state.sltServer,\n        onChange: this.hanleGetRole,\n        className: \"form-control \",\n        id: \"server_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Ch\\u1ECDn server\"), serverElement), Object.keys(userRole).length > 0 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"sltRoleId\",\n        className: \"col-sm-12 controll-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \" Ch\\u1ECDn nh\\xE2n v\\u1EADt:\"), React.createElement(\"select\", {\n        name: \"sltRoleId\",\n        onChange: this.handleChange,\n        className: \"form-control \",\n        id: \"userRole\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, userRole.data.role.map((val, index) => {\n        return React.createElement(\"option\", {\n          key: index,\n          value: val.roleId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, val.roleName);\n      }))) : React.createElement(\"span\", {\n        className: \"input-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, errorSelectRole[0]), React.createElement(\"div\", {\n        id: \"appentHtml\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), \" \", React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"id_user\",\n        id: \"id_user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"hd-Form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \" B\\u01B0\\u1EDBc 2: Ch\\u1ECDn ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n (*)\"), React.createElement(\"div\", {\n        className: \"panel-group paytogame\",\n        id: \"accordion\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel panel-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"panel-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        \"data-toggle\": \"collapse\",\n        \"data-parent\": \"#accordion\",\n        href: \"#collapse1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"N\\u1EA1p th\\u1EBB c\\xE0o\"))), React.createElement(\"div\", {\n        id: \"collapse1\",\n        className: \"panel-collapse collapse in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: e => this.handlePayByCard(e),\n        ref: c => {\n          this.formCardPay = c;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"sltCardType\",\n        className: \"col-sm-12 controll-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Lo\\u1EA1i th\\u1EBB\"), React.createElement(Select, {\n        name: \"sltCardType\",\n        onChange: this.handleChange,\n        className: \"form-control\",\n        validations: [required],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Ch\\u1ECDn lo\\u1EA1i th\\u1EBB\"), React.createElement(\"option\", {\n        value: \"HPC\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"HPCode\"), React.createElement(\"option\", {\n        value: \"GATE\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"GATE\"))), React.createElement(\"label\", {\n        htmlFor: \"txtSerie\",\n        className: \"col-sm-12 controll-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"S\\u1ED1 serie\"), React.createElement(Input, {\n        name: \"txtSerie\",\n        onChange: this.handleChange,\n        type: \"text\",\n        placeholder: \"\",\n        className: \"form-control\",\n        validations: [required, minLength, maxLength],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"txtCardPin\",\n        className: \"col-sm-12 controll-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"M\\xE3 th\\u1EBB\"), React.createElement(Input, {\n        name: \"txtCardPin\",\n        onChange: this.handleChange,\n        type: \"text\",\n        placeholder: \"\",\n        className: \"form-control\",\n        validations: [required, minLength, maxLength],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        disabled: this.props.isLoadingReducer.isLoading,\n        id: \"submitCard\",\n        className: \"col-sm-3 btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, this.props.isLoadingReducer.isLoading ? React.createElement(\"div\", {\n        className: 'dot-loader',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      })) : 'thanh toán'), React.createElement(CheckButton, {\n        style: {\n          display: 'none'\n        },\n        ref: c => {\n          this.checkBtn1 = c;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), paymentReducer.chargeCard.status === 1 ? React.createElement(\"span\", {\n        className: \"message-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, paymentReducer.chargeCard.messages) : React.createElement(\"span\", {\n        className: \"message-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, paymentReducer.chargeCard.messages))))), React.createElement(\"div\", {\n        className: \"panel panel-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"panel-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        \"data-toggle\": \"collapse\",\n        \"data-parent\": \"#accordion\",\n        href: \"#collapse2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"N\\u1EA1p th\\u1EBB ATM/iBanking\"))), React.createElement(\"div\", {\n        id: \"collapse2\",\n        className: \"panel-collapse collapse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: e => this.handlePayByATM(e),\n        ref: c => {\n          this.formAtmPay = c;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"sltAmount\",\n        className: \"col-sm-12 controll-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"S\\u1ED1 ti\\u1EC1n thanh to\\xE1n (VN\\u0110)\"), React.createElement(Select, {\n        name: \"sltAmount\",\n        onChange: this.handleChange,\n        className: \"form-control\",\n        validations: [required],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Ch\\u1ECDn s\\u1ED1 ti\\u1EC1n\"), React.createElement(\"option\", {\n        value: 10000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"10,000\"), React.createElement(\"option\", {\n        value: 20000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"20,000\"), React.createElement(\"option\", {\n        value: 50000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"50,000\"), React.createElement(\"option\", {\n        value: 100000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"100,000\"), React.createElement(\"option\", {\n        value: 200000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"200,000\"), React.createElement(\"option\", {\n        value: 300000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"300,000\"), React.createElement(\"option\", {\n        value: 500000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"500,000\"), React.createElement(\"option\", {\n        value: 1000000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"1,000,000\"), React.createElement(\"option\", {\n        value: 2000000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"2,000,000\"))), React.createElement(\"button\", {\n        disabled: this.props.isLoadingReducer.isLoading,\n        id: \"submitAtm\",\n        className: \"col-sm-3 btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, this.props.isLoadingReducer.isLoading ? React.createElement(\"div\", {\n        className: 'dot-loader',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      })) : 'thanh toán'), React.createElement(CheckButton, {\n        style: {\n          display: 'none'\n        },\n        ref: c => {\n          this.checkBtn2 = c;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }))))), errorSelectRole.length > 0 ? React.createElement(\"div\", {\n        style: {\n          marginTop: \"10px\"\n        },\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, errorSelectRole[0]) : '', React.createElement(\"div\", {\n        className: \"message-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"N\\u1EA0P HPCODE = 100% ; GATE = 100% ; VCOIN = 90% ; ATM = 100% (Th\\u1EBB HPCode c\\xF3 b\\xE1n \\u1EDF c\\xE1c c\\u1EEDa h\\xE0ng c\\u1EE7a Payoo & b\\xE1n online t\\u1EA1i Website Napthegame.net )\")), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"modal modal-atm-report fade\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        \"data-backdrop\": \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, chargeAtmMSG)))))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  gamesReducer: state.gamesReducer,\n  paymentReducer: state.paymentReducer,\n  isLoadingReducer: state.isLoadingReducer\n});\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    getDetailGameToGame: productId => {\n      dispatch(gameActions.getDetailGameToGameRequest(productId));\n    },\n    chargeCard: params => {\n      dispatch(paymentActions.chargeCardRequest(params));\n    },\n    chargeAtm: params => {\n      dispatch(paymentActions.chargeAtmRequest(params));\n    },\n    getUserRole: (serverId, userId, agent) => {\n      dispatch(paymentActions.getUserRoleRequest(serverId, userId, agent));\n    },\n    chargeAtmSuccess: paramStr => {\n      dispatch(paymentActions.chargeAtmSuccess(paramStr));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Paytogame));","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/components/Paytogame.js"],"names":["React","Component","connect","gameActions","paymentActions","withRouter","_","Form","Input","Select","CheckButton","required","minLength","maxLength","Paytogame","constructor","props","checkHasRole","errorSelectRole","state","sltRoleId","push","setState","handlePayByCard","e","preventDefault","formCardPay","validateAll","errorRole","checkBtn1","context","_errors","length","chargeCard","handlePayByATM","formAtmPay","checkBtn2","chargeAtm","hanleGetRole","event","target","serverId","value","getUserRole","JSON","parse","localStorage","getItem","data","id","gameInfo","agent","sltServer","handleChange","type","checked","name","username","userRole","sltCardType","txtSerie","txtCardPin","sltAmount","chargeSuccessMSG","errorsAtm","errorsCard","errorSelectServer","componentDidMount","match","getDetailGameToGame","params","queryString","require","strParams","location","search","has","chargeAtmSuccess","console","log","paymentReducer","messages","modalATMReport","window","$","modal","on","componentDidUpdate","previousProps","previousState","Object","keys","gameData","gamesReducer","key","hasOwnProperty","slug","getDerivedStateFromProps","nextProps","prevState","role","roleId","render","chargeAtmMSG","undefined","server","detail","serverElement","map","val","index","server_id","server_name","textAlign","roleName","c","isLoadingReducer","isLoading","display","status","marginTop","mapStateToProps","mapDispatchToProps","dispatch","productId","getDetailGameToGameRequest","chargeCardRequest","chargeAtmRequest","userId","getUserRoleRequest","paramStr"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport \"../assets/css/paytogame.css\"\r\nimport gameActions from \"../actions/games.actions\"\r\nimport paymentActions from \"../actions/payment.actions\"\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as _ from 'lodash';\r\nimport Form from 'react-validation/build/form';\r\nimport Input from 'react-validation/build/input';\r\nimport Select from 'react-validation/build/select';\r\nimport CheckButton from 'react-validation/build/button';\r\nimport {required, minLength, maxLength} from \"../utils/validateInput\";\r\n\r\n\r\nclass Paytogame extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            username: JSON.parse(localStorage.getItem('user')).data.username,\r\n            userRole: {},\r\n            sltRoleId: '',\r\n            sltServer: '',\r\n            sltCardType: '',\r\n            txtSerie: '',\r\n            txtCardPin: '',\r\n            sltAmount: '',\r\n            gameInfo: {},\r\n            chargeSuccessMSG : '',\r\n            errorsAtm: [],\r\n            errorsCard: [],\r\n            errorSelectServer: [],\r\n            errorSelectRole: []\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let {match} = this.props\r\n        this.props.getDetailGameToGame(match.params.id)\r\n        let queryString = require('query-string');\r\n        let strParams = this.props.location.search;\r\n        let params = queryString.parse(strParams);\r\n        if (_.has(params, 'trans_id')) {\r\n            this.props.chargeAtmSuccess(strParams)\r\n            console.log(this.props)\r\n            if(this.props.paymentReducer.chargeAtmSuccess.messages !== null)\r\n            {\r\n                let modalATMReport = window.$('.modal-atm-report');\r\n                modalATMReport.modal('show');\r\n                modalATMReport.on('click', function () {\r\n                    modalATMReport.modal('hide')\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(previousProps, previousState){\r\n        if(Object.keys(previousState.gameInfo).length === 0)\r\n        {\r\n            let gameData = previousProps.gamesReducer.data;\r\n            for (var key in gameData) {\r\n                if (gameData.hasOwnProperty(key)) {\r\n                    if(gameData[key].slug === previousProps.match.params.slug)\r\n                    {\r\n                        this.setState({\r\n                            gameInfo: gameData[key]\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        let userRole = nextProps.paymentReducer.userRole.data\r\n        if(prevState.sltServer !== '' && userRole)\r\n        {\r\n            return {\r\n                userRole: nextProps.paymentReducer.userRole,\r\n                sltRoleId: prevState.sltRoleId!==''?prevState.sltRoleId:userRole.role[0].roleId,\r\n                errorSelectRole: []\r\n            }\r\n        }\r\n        return {\r\n            userRole: {},\r\n            sltRoleId: '',\r\n        }\r\n    }\r\n\r\n    checkHasRole = () => {\r\n        let errorSelectRole = [];\r\n        if(this.state.sltRoleId === ''){\r\n            errorSelectRole.push('không tìm thấy thông tin nhân vật')\r\n        }\r\n        this.setState({\r\n            errorSelectRole: errorSelectRole\r\n        })\r\n        return errorSelectRole;\r\n    }\r\n\r\n    handlePayByCard = (e) =>{\r\n        e.preventDefault();\r\n        this.formCardPay.validateAll();\r\n        let errorRole =  this.checkHasRole();\r\n        if ( this.checkBtn1.context._errors.length === 0 && errorRole.length === 0) {\r\n            this.props.chargeCard(this.state)\r\n        }\r\n    }\r\n\r\n    handlePayByATM = (e) => {\r\n        e.preventDefault();\r\n        this.formAtmPay.validateAll();\r\n        let errorRole =  this.checkHasRole();\r\n        if ( this.checkBtn2.context._errors.length === 0 && errorRole.length === 0 ) {\r\n            this.props.chargeAtm(this.state)\r\n        }\r\n    }\r\n\r\n    hanleGetRole = (event) =>{\r\n        const target = event.target;\r\n        const serverId = target.value;\r\n        if(serverId !== '')\r\n        {\r\n            this.props.getUserRole(serverId, JSON.parse(localStorage.getItem('user')).data.id, this.state.gameInfo.agent);\r\n        }\r\n        this.setState({\r\n            sltServer: serverId,\r\n        })\r\n    }\r\n\r\n    handleChange = (event) =>{\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state)\r\n        let chargeAtmMSG = '';\r\n        if(this.props.paymentReducer.chargeAtmSuccess.data !== undefined)\r\n        {\r\n            chargeAtmMSG = this.props.paymentReducer.chargeAtmSuccess.data.messages\r\n        }\r\n        let server = this.props.gamesReducer.detail;\r\n        let serverElement = null;\r\n        if(server.length > 0)\r\n        {\r\n            serverElement = server.map((val, index) => {\r\n                return <option key={index} value={val.server_id}>{val.server_name}</option>\r\n            })\r\n        }\r\n        let {errorSelectServer, gameInfo, userRole, errorSelectRole} = this.state;\r\n        let {paymentReducer} = this.props;\r\n        if(Object.keys(gameInfo).length === 0 || server.length === 0){\r\n            return (<div style={{textAlign: \"center\"}}>\r\n                        <div className=\"lds-dual-ring\"></div>\r\n                    </div>)\r\n        }else{\r\n            return (\r\n                <div className=\"container paytogame_container\">\r\n                    <div className=\"row box\">\r\n                        <h2>{gameInfo.name}</h2>\r\n                        <div className=\"hd-Form\"> Bước 1: Chọn thông tin nhân vật (*)</div>\r\n                        <label htmlFor=\"sltServer\" className=\"col-sm-12 controll-label\" id=\"list_server\"> Chọn server:</label>\r\n                        {errorSelectServer && (<span className=\"input-error\">{errorSelectServer[0]}</span>)}\r\n                        <select name=\"sltServer\" value={this.state.sltServer} onChange={this.hanleGetRole} className=\"form-control \" id=\"server_list\">\r\n                            <option value=\"\">Chọn server</option>\r\n                            {serverElement}\r\n                        </select>\r\n                        {\r\n                            Object.keys(userRole).length > 0 ?\r\n                            (<div>\r\n                                <label htmlFor=\"sltRoleId\" className=\"col-sm-12 controll-label\"> Chọn nhân vật:</label>\r\n                                <select name=\"sltRoleId\" onChange={this.handleChange} className=\"form-control \" id=\"userRole\">\r\n                                {userRole.data.role.map((val, index) => {\r\n                                    return <option key={index} value={val.roleId}>{val.roleName}</option>\r\n                                })}\r\n                                </select>\r\n                            </div>)\r\n                            :<span className=\"input-error\">{errorSelectRole[0]}</span>\r\n                        }\r\n                        <div id=\"appentHtml\" />\r\n                        <div className=\"clearfix\" /> <input type=\"hidden\" name=\"id_user\" id=\"id_user\" />\r\n                        <div className=\"hd-Form\"> Bước 2: Chọn phương thức thanh toán (*)</div>\r\n                        <div className=\"panel-group paytogame\" id=\"accordion\">\r\n                            <div className=\"panel panel-default\">\r\n                                <div className=\"panel-heading\">\r\n                                    <h4 className=\"panel-title\">\r\n                                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapse1\">Nạp thẻ cào</a>\r\n                                    </h4>\r\n                                </div>\r\n                                <div id=\"collapse1\" className=\"panel-collapse collapse in\">\r\n                                    <Form onSubmit={e => this.handlePayByCard(e)} ref={c => { this.formCardPay = c }}>\r\n                                        <div className=\"panel-body\">\r\n                                            <label htmlFor=\"sltCardType\" className=\"col-sm-12 controll-label\">\r\n                                                <span>Loại thẻ</span>\r\n                                                <Select name='sltCardType' onChange={this.handleChange} className=\"form-control\" validations={[required]}>\r\n                                                    <option value=\"\">Chọn loại thẻ</option>\r\n                                                    <option value=\"HPC\">HPCode</option>\r\n                                                    <option value=\"GATE\">GATE</option>\r\n                                                </Select>\r\n                                            </label>\r\n                                            <label htmlFor=\"txtSerie\" className=\"col-sm-12 controll-label\">\r\n                                                <span>Số serie</span>\r\n                                                <Input \r\n                                                    name=\"txtSerie\" \r\n                                                    onChange={this.handleChange}\r\n                                                    type=\"text\" \r\n                                                    placeholder=\"\"\r\n                                                    className=\"form-control\" \r\n                                                    validations={[required, minLength, maxLength]}\r\n                                                />\r\n                                            </label>\r\n                                            <label htmlFor=\"txtCardPin\" className=\"col-sm-12 controll-label\">\r\n                                                <span>Mã thẻ</span>\r\n                                                <Input \r\n                                                    name=\"txtCardPin\" \r\n                                                    onChange={this.handleChange}\r\n                                                    type=\"text\" \r\n                                                    placeholder=\"\"\r\n                                                    className=\"form-control\" \r\n                                                    validations={[required, minLength, maxLength]}\r\n                                                />\r\n                                            </label>\r\n                                            <button disabled={this.props.isLoadingReducer.isLoading} id=\"submitCard\" className=\"col-sm-3 btn btn-primary\">{this.props.isLoadingReducer.isLoading?\r\n                                            <div className={'dot-loader'}>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                            </div>\r\n                                            :'thanh toán'}</button>\r\n                                            <CheckButton style={{ display: 'none' }} ref={c => { this.checkBtn1 = c }} />\r\n                                            {\r\n                                            paymentReducer.chargeCard.status === 1 ?(<span className=\"message-success\">\r\n                                                {paymentReducer.chargeCard.messages}\r\n                                            </span>):(<span className=\"message-alert\">\r\n                                                {paymentReducer.chargeCard.messages}\r\n                                            </span>)\r\n                                            }\r\n                                        </div>\r\n                                    </Form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"panel panel-default\">\r\n                                <div className=\"panel-heading\">\r\n                                    <h4 className=\"panel-title\">\r\n                                        <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapse2\">Nạp thẻ ATM/iBanking</a>\r\n                                    </h4>\r\n                                </div>\r\n                                <div id=\"collapse2\" className=\"panel-collapse collapse\">\r\n                                    <Form onSubmit={e => this.handlePayByATM(e)} ref={c => { this.formAtmPay = c }}>\r\n                                        <div className=\"panel-body\">\r\n                                            <label htmlFor=\"sltAmount\" className=\"col-sm-12 controll-label\">\r\n                                                <span>Số tiền thanh toán (VNĐ)</span>\r\n                                                <Select name='sltAmount' onChange={this.handleChange} className=\"form-control\" validations={[required]}>\r\n                                                    <option value=\"\">Chọn số tiền</option>\r\n                                                    <option value={10000}>10,000</option>\r\n                                                    <option value={20000}>20,000</option>\r\n                                                    <option value={50000}>50,000</option>\r\n                                                    <option value={100000}>100,000</option>\r\n                                                    <option value={200000}>200,000</option>\r\n                                                    <option value={300000}>300,000</option>\r\n                                                    <option value={500000}>500,000</option>\r\n                                                    <option value={1000000}>1,000,000</option>\r\n                                                    <option value={2000000}>2,000,000</option>\r\n                                                </Select>\r\n                                            </label>\r\n                                            <button disabled={this.props.isLoadingReducer.isLoading} id=\"submitAtm\" className=\"col-sm-3 btn btn-primary\">{this.props.isLoadingReducer.isLoading?\r\n                                            <div className={'dot-loader'}>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                            </div>\r\n                                            :'thanh toán'}</button>\r\n                                            <CheckButton style={{ display: 'none' }} ref={c => { this.checkBtn2 = c }} />\r\n                                        </div>\r\n                                    </Form>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            {\r\n                                errorSelectRole.length > 0?\r\n                                <div style={{marginTop: \"10px\"}} className=\"alert alert-danger\" role=\"alert\">\r\n                                    {errorSelectRole[0]}\r\n                                </div>:''\r\n                            }\r\n                            \r\n                            <div className=\"message-alert\">\r\n                                NẠP HPCODE = 100% ; GATE = 100% ; VCOIN = 90% ; ATM = 100% (Thẻ HPCode có bán ở các cửa hàng của Payoo &amp; bán online tại Website Napthegame.net )\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"clearfix\" />\r\n                        <div className=\"modal modal-atm-report fade\" tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"false\">\r\n                            <div className=\"modal-dialog\" role=\"document\">\r\n                                <div className=\"modal-content\">\r\n                                    <div className=\"modal-body\">\r\n                                        <p className={\"text-center\"}>{chargeAtmMSG}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    gamesReducer: state.gamesReducer,\r\n    paymentReducer: state.paymentReducer,\r\n    isLoadingReducer: state.isLoadingReducer\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        getDetailGameToGame: (productId) => {\r\n            dispatch(gameActions.getDetailGameToGameRequest(productId))\r\n        },\r\n        chargeCard: (params) => {\r\n            dispatch(paymentActions.chargeCardRequest(params))\r\n        },\r\n        chargeAtm: (params) => {\r\n            dispatch(paymentActions.chargeAtmRequest(params))\r\n        },\r\n        getUserRole: ( serverId, userId, agent) => {\r\n            dispatch(paymentActions.getUserRoleRequest(serverId, userId, agent))\r\n        },\r\n        chargeAtmSuccess: (paramStr) => {\r\n            dispatch(paymentActions.chargeAtmSuccess(paramStr))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Paytogame))"]},"metadata":{},"sourceType":"module"}