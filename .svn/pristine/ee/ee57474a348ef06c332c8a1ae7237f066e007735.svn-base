{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import paymentActionTypes from'../actionTypes/payment.actiontypes';import Api from'../utils/Api';import ApiConfig from'../config/ApiConfig';import isLoadingAction from\"./isloading.actions\";var paymentActions={};paymentActions.chargeCardRequest=function(params){var md5=require('md5');var sign=md5(params.username+ApiConfig.jwtToken);var endpoint=ApiConfig.domain+ApiConfig.endpoint.chargeCard+'?serial='+params.txtSerie+'&code='+params.txtCardPin+'&username='+params.username+'&productAgent='+params.gameInfo.agent+'&type='+params.sltCardType+'&server_id='+params.sltServer+'&sign='+sign+'';return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(isLoadingAction.showLoader());_context.next=3;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1||result.data.status===0){dispatch(paymentActions.chargeCard(result));}});case 3:dispatch(isLoadingAction.hideLoader());case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};paymentActions.chargeCard=function(result){return{type:paymentActionTypes.CHARGE_CARD,result:result};};paymentActions.chargeAtmRequest=function(params){var md5=require('md5');var sign=md5(params.username+ApiConfig.jwtToken);var endpoint=ApiConfig.domain+ApiConfig.endpoint.chargeAtm+'?amount='+params.sltAmount+'&username='+params.username+'&productAgent='+params.gameInfo.agent+'&roleId='+params.sltRoleId+'&server_id='+params.sltServer+'&sign='+sign+'';return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(isLoadingAction.showLoader());_context2.next=3;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1){window.location.href=result.data.data.link;}});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};paymentActions.getUserRoleRequest=function(serverId,userId,agent){var md5=require('md5');var sign=md5(userId+ApiConfig.jwtToken);var endpoint=ApiConfig.domain+ApiConfig.endpoint.getRole+'?server_id='+serverId+'&id_user='+userId+'&productAgent='+agent+'&sign='+sign;return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1){dispatch(paymentActions.getUserRole(result));}});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};paymentActions.chargeAtmSuccess=function(paramStr){var endpoint=ApiConfig.domain+ApiConfig.endpoint.paymentWalletChargeATMSuccess+paramStr;console.log(endpoint);return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Api.call('GET',endpoint).then(function(result){dispatch(paymentActions.rsChargeAtmSuccess(result));});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}());};paymentActions.rsChargeAtmSuccess=function(result){return{type:paymentActionTypes.CHARGE_ATM_SUCCESS,result:result};};paymentActions.getUserRole=function(result){return{type:paymentActionTypes.GET_USER_ROLE,result:result};};export default paymentActions;","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/actions/payment.actions.js"],"names":["paymentActionTypes","Api","ApiConfig","isLoadingAction","paymentActions","chargeCardRequest","params","md5","require","sign","username","jwtToken","endpoint","domain","chargeCard","txtSerie","txtCardPin","gameInfo","agent","sltCardType","sltServer","dispatch","showLoader","call","then","result","data","status","hideLoader","type","CHARGE_CARD","chargeAtmRequest","chargeAtm","sltAmount","sltRoleId","window","location","href","link","getUserRoleRequest","serverId","userId","getRole","getUserRole","chargeAtmSuccess","paramStr","paymentWalletChargeATMSuccess","console","log","rsChargeAtmSuccess","CHARGE_ATM_SUCCESS","GET_USER_ROLE"],"mappings":"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","sourcesContent":["import paymentActionTypes from '../actionTypes/payment.actiontypes';\r\nimport Api from '../utils/Api';\r\nimport ApiConfig from '../config/ApiConfig';\r\nimport isLoadingAction from \"./isloading.actions\";\r\nconst paymentActions = {};\r\n\r\npaymentActions.chargeCardRequest = (params) => {\r\n    let md5 = require('md5')\r\n    let sign = md5(params.username + ApiConfig.jwtToken)\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.chargeCard + '?serial='+params.txtSerie+'&code='+params.txtCardPin+'&username='+params.username+'&productAgent='+params.gameInfo.agent+'&type='+params.sltCardType+'&server_id='+params.sltServer+'&sign='+sign+'';\r\n    return async (dispatch) => {\r\n        dispatch(isLoadingAction.showLoader())\r\n        await Api.call('GET', endpoint ).then( result => {\r\n            if(result.data.status === 1 || result.data.status === 0){\r\n                dispatch(paymentActions.chargeCard(result))\r\n            }\r\n        })\r\n        dispatch(isLoadingAction.hideLoader())\r\n    }\r\n}\r\n\r\npaymentActions.chargeCard = (result) => {\r\n    return {\r\n        type: paymentActionTypes.CHARGE_CARD,\r\n        result\r\n    }\r\n}\r\n\r\npaymentActions.chargeAtmRequest = (params) => {\r\n    let md5 = require('md5')\r\n    let sign = md5(params.username + ApiConfig.jwtToken)\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.chargeAtm + '?amount='+params.sltAmount+'&username='+params.username+'&productAgent='+params.gameInfo.agent+'&roleId='+params.sltRoleId+'&server_id='+params.sltServer+'&sign='+sign+'';\r\n    return async (dispatch) => {\r\n        dispatch(isLoadingAction.showLoader())\r\n        await Api.call('GET', endpoint ).then( result => {\r\n            if(result.data.status === 1){\r\n                window.location.href = result.data.data.link;\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\npaymentActions.getUserRoleRequest = (serverId, userId, agent) => {\r\n    let md5 = require('md5')\r\n    let sign = md5(userId + ApiConfig.jwtToken)\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.getRole + '?server_id=' + serverId+'&id_user='+userId+'&productAgent='+agent+'&sign='+sign;\r\n    return async (dispatch) => {\r\n        await Api.call('GET', endpoint ).then( result => {\r\n            if(result.data.status === 1){\r\n                dispatch(paymentActions.getUserRole(result))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\npaymentActions.chargeAtmSuccess = (paramStr) => {\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.paymentWalletChargeATMSuccess + paramStr;\r\n    console.log(endpoint)\r\n    return async (dispatch) => {\r\n        await Api.call('GET', endpoint ).then( result => {\r\n            dispatch(paymentActions.rsChargeAtmSuccess(result))\r\n        })\r\n    }\r\n}\r\n\r\npaymentActions.rsChargeAtmSuccess = (result) => {\r\n    return {\r\n        type: paymentActionTypes.CHARGE_ATM_SUCCESS,\r\n        result\r\n    }\r\n}\r\n\r\npaymentActions.getUserRole = (result) => {\r\n    return {\r\n        type: paymentActionTypes.GET_USER_ROLE,\r\n        result\r\n    }\r\n}\r\n\r\nexport default paymentActions;"]},"metadata":{},"sourceType":"module"}