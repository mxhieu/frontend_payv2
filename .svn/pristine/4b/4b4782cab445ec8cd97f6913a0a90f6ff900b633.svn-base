{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from \"react-router-dom\";\nimport \"../assets/css/login.css\";\nimport Validate from './../utils/Validate';\nimport { connect } from \"react-redux\";\nimport loginAction from '../actions/login.actions';\nimport FacebookLogin from \"./FacebookLogin\";\nimport GoogleLogin from \"./GoogleLogin\";\nimport AppleLogin from \"./AppleLogin\";\nimport CommonConfig from '../config/CommonConfig';\nimport Form from 'react-validation/build/form';\nimport Input from 'react-validation/build/input';\nimport CheckButton from 'react-validation/build/button';\nimport { required, minLength, maxLength, alpha } from \"../utils/validateInput\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      this.formCardPay.validateAll();\n\n      if (this.checkBtn1.context._errors.length === 0) {\n        await this.props.userlogin(this.state.username, this.state.password);\n      }\n    };\n\n    this.handleValidate = () => {\n      const {\n        username,\n        password\n      } = this.state;\n      let errors = {\n        username: [],\n        password: []\n      };\n      let isValid = true;\n\n      if (Validate.isRequired(username)) {\n        errors.username.push('Tài khoản bắt buộc nhập');\n        isValid = false;\n      }\n\n      if (Validate.maxLength(username, 255)) {\n        errors.username.push('Tài khoản tối đa 255 ký tự');\n        isValid = false;\n      }\n\n      if (Validate.minLength(username, 5)) {\n        errors.username.push('Tài khoản tối thiểu 5 ký tự');\n        isValid = false;\n      }\n\n      if (Validate.isRequired(password)) {\n        errors.password.push('Mật khẩu bắt buộc nhập');\n        isValid = false;\n      }\n\n      if (Validate.maxLength(password, 255)) {\n        errors.username.push('Mật khẩu tối đa 255 ký tự');\n        isValid = false;\n      }\n\n      if (Validate.minLength(password, 5)) {\n        errors.username.push('Mật khẩu tối thiểu 5 ký tự');\n        isValid = false;\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return isValid;\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      errors: []\n    };\n  }\n\n  render() {\n    let {\n      errors\n    } = this.state;\n    let {\n      login\n    } = this.props;\n\n    if (login.isLogged) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container login_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Trang ch\\u1EE7\")), React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      \"aria-current\": \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u0110\\u0103ng nh\\u1EADp\"))), React.createElement(\"div\", {\n      className: \"col-md-4 box-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng t\\xE0i kho\\u1EA3n kh\\xE1c\"), React.createElement(FacebookLogin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(GoogleLogin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(AppleLogin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-8 box-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Phoeniz ID\"), React.createElement(Form, {\n      onSubmit: e => this.handleSubmit(e),\n      ref: c => {\n        this.formCardPay = c;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"username\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp *\"), React.createElement(Input, {\n      name: \"username\",\n      id: \"username\",\n      onChange: this.handleChange,\n      type: \"text\",\n      placeholder: \"\",\n      className: \"form-control\",\n      validations: [required, minLength, maxLength, alpha],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      className: \"errorInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, errors.username ? errors.username[0] : ''), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"M\\u1EADt kh\\u1EA9u *\"), React.createElement(Input, {\n      name: \"password\",\n      id: \"password\",\n      onChange: this.handleChange,\n      type: \"password\",\n      placeholder: \"\",\n      className: \"form-control\",\n      validations: [required, minLength, maxLength],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      className: \"errorInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, errors.password ? errors.password[0] : ''), React.createElement(CheckButton, {\n      style: {\n        display: 'none'\n      },\n      ref: c => {\n        this.checkBtn1 = c;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      disabled: this.props.isLoadingReducer.isLoading,\n      id: \"submitbutton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, this.props.isLoadingReducer.isLoading ? React.createElement(\"div\", {\n      className: 'dot-loader',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })) : 'Đăng nhập')), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"forget-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: CommonConfig.linkForgetPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u\")), React.createElement(\"div\", {\n      className: \"exist-account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n. \", React.createElement(\"a\", {\n      href: CommonConfig.linkRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"\\u0110\\u0103ng k\\xFD ngay\")), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), login.error && React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, login.error.messages)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    login: state.loginReducer,\n    isLoadingReducer: state.isLoadingReducer\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    userlogin: async (username, password) => {\n      await dispatch(loginAction.Login(username, password));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/components/Login.js"],"names":["React","Component","Link","Redirect","Validate","connect","loginAction","FacebookLogin","GoogleLogin","AppleLogin","CommonConfig","Form","Input","CheckButton","required","minLength","maxLength","alpha","Login","constructor","props","handleChange","event","target","value","type","checked","name","setState","handleSubmit","e","preventDefault","formCardPay","validateAll","checkBtn1","context","_errors","length","userlogin","state","username","password","handleValidate","errors","isValid","isRequired","push","render","login","isLogged","c","display","isLoadingReducer","isLoading","linkForgetPassword","linkRegister","error","messages","mapStateToProps","loginReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link, Redirect} from \"react-router-dom\";\r\nimport \"../assets/css/login.css\";\r\nimport Validate from './../utils/Validate';\r\nimport { connect } from \"react-redux\";  \r\nimport loginAction from '../actions/login.actions';\r\nimport FacebookLogin from \"./FacebookLogin\";\r\nimport GoogleLogin from \"./GoogleLogin\";\r\nimport AppleLogin from \"./AppleLogin\";\r\nimport CommonConfig from '../config/CommonConfig';\r\nimport Form from 'react-validation/build/form';\r\nimport Input from 'react-validation/build/input';\r\nimport CheckButton from 'react-validation/build/button';\r\nimport {required, minLength, maxLength, alpha} from \"../utils/validateInput\";\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            username: '', \r\n            password: '',\r\n            errors: []\r\n        }\r\n    }\r\n\r\n    handleChange = (event) =>{\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        this.formCardPay.validateAll();\r\n        if(this.checkBtn1.context._errors.length === 0)\r\n        {\r\n            await this.props.userlogin(this.state.username, this.state.password);\r\n        }\r\n    }\r\n\r\n    handleValidate = () => {\r\n        const { username, password } = this.state;\r\n        let errors = {\r\n            username: [],\r\n            password: []\r\n        };\r\n        let isValid = true;\r\n        if (Validate.isRequired( username )) {\r\n            errors.username.push('Tài khoản bắt buộc nhập');\r\n            isValid = false;\r\n        }\r\n        if (Validate.maxLength( username, 255 )) {\r\n            errors.username.push('Tài khoản tối đa 255 ký tự');\r\n            isValid = false;\r\n        }\r\n        if (Validate.minLength( username, 5)) {\r\n            errors.username.push('Tài khoản tối thiểu 5 ký tự');\r\n            isValid = false;\r\n        }\r\n        if (Validate.isRequired( password )) {\r\n            errors.password.push('Mật khẩu bắt buộc nhập');\r\n            isValid = false;\r\n        }\r\n        if (Validate.maxLength( password, 255 )) {\r\n            errors.username.push('Mật khẩu tối đa 255 ký tự');\r\n            isValid = false;\r\n        }\r\n        if (Validate.minLength( password, 5)) {\r\n            errors.username.push('Mật khẩu tối thiểu 5 ký tự');\r\n            isValid = false;\r\n        }\r\n        this.setState({\r\n            errors: errors\r\n        })\r\n        return isValid;\r\n    }\r\n\r\n    render() {\r\n        let { errors } = this.state;\r\n        let { login } = this.props;\r\n        if (login.isLogged) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n        return (\r\n            <div className=\"container login_container\">\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                    <li className=\"breadcrumb-item\"><Link to=\"/\">Trang chủ</Link></li>\r\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">Đăng nhập</li>\r\n                    </ol>\r\n                </nav>\r\n                <div className=\"col-md-4 box-left\">\r\n                    <h4>Đăng nhập bằng tài khoản khác</h4>\r\n                    <FacebookLogin></FacebookLogin>\r\n                    <GoogleLogin></GoogleLogin>\r\n                    <AppleLogin></AppleLogin>\r\n                </div>\r\n                <div className=\"col-md-8 box-right\">\r\n                    <h4>Đăng nhập bằng Phoeniz ID</h4>\r\n                    {/* <form method=\"POST\" name=\"user\" id=\"user\" noValidate=\"novalidate\" onSubmit={this.handleSubmit}> */}\r\n                    <Form onSubmit={e => this.handleSubmit(e)} ref={c => { this.formCardPay = c }}>\r\n                        <label htmlFor=\"username\" className=\"col-sm-12 controll-label\">Tên đăng nhập *</label>\r\n                        {/* <input type=\"text\" name=\"username\" className=\"form-control\" id=\"username\" onChange={this.handleChange} /> */}\r\n                        <Input \r\n                            name=\"username\" \r\n                            id=\"username\"\r\n                            onChange={this.handleChange}\r\n                            type=\"text\" \r\n                            placeholder=\"\"\r\n                            className=\"form-control\" \r\n                            validations={[required, minLength, maxLength, alpha]}\r\n                        />\r\n                        <small className=\"errorInput\">{errors.username?errors.username[0]:''}</small>\r\n                        <label htmlFor=\"password\" className=\"col-sm-12 controll-label\">Mật khẩu *</label>\r\n                        {/* <input type=\"password\" name=\"password\" className=\"form-control\" id=\"password\" onChange={this.handleChange} /> */}\r\n                        <Input \r\n                            name=\"password\" \r\n                            id=\"password\"\r\n                            onChange={this.handleChange}\r\n                            type=\"password\" \r\n                            placeholder=\"\"\r\n                            className=\"form-control\" \r\n                            validations={[required, minLength, maxLength]}\r\n                        />\r\n                        <small className=\"errorInput\">{errors.password?errors.password[0]:''}</small>\r\n                        <CheckButton style={{ display: 'none' }} ref={c => { this.checkBtn1 = c }} />\r\n                        <button disabled={this.props.isLoadingReducer.isLoading} id=\"submitbutton\">{this.props.isLoadingReducer.isLoading?\r\n                            <div className={'dot-loader'}>\r\n                                <div></div>\r\n                                <div></div>\r\n                                <div></div>\r\n                                <div></div>\r\n                                <div></div>\r\n                            </div>\r\n                            :'Đăng nhập'}</button>\r\n                    </Form>\r\n                    {/* </form> */}\r\n                    <div className=\"clearfix\" />\r\n                    <div className=\"forget-password\"><a href={CommonConfig.linkForgetPassword}>Quên mật khẩu</a></div>\r\n                    <div className=\"exist-account\">Bạn chưa có tài khoản. <a href={CommonConfig.linkRegister}>Đăng ký ngay</a></div>\r\n                    <div className=\"clearfix\" />\r\n                    { login.error && (<div className=\"alert alert-danger\" role=\"alert\">\r\n                                            {login.error.messages}\r\n                                        </div>)\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      login: state.loginReducer,\r\n      isLoadingReducer: state.isLoadingReducer\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        userlogin: async (username, password) => {\r\n            await dispatch(loginAction.Login(username, password))\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Login);\r\n  "]},"metadata":{},"sourceType":"module"}