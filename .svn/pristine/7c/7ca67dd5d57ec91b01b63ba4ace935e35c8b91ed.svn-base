{"ast":null,"code":"import _classCallCheck from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from\"react-redux\";import SocialConfig from\"../config/SocialConfig\";import loginAction from'../actions/login.actions';var GoogleLogin=/*#__PURE__*/function(_Component){_inherits(GoogleLogin,_Component);function GoogleLogin(props){var _this;_classCallCheck(this,GoogleLogin);_this=_possibleConstructorReturn(this,_getPrototypeOf(GoogleLogin).call(this,props));_this.prepareLoginButton=function(){_this.auth2.attachClickHandler(_this.refs.googleLoginBtn,{},function(googleUser){var profile=googleUser.getBasicProfile();_this.setState({email:profile.getEmail()});_this.props.googleLogin(_this.state.email);});};_this.onHandleClick=function(e){e.preventDefault();};_this.state={email:''};return _this;}_createClass(GoogleLogin,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window['googleSDKLoaded']=function(){window['gapi'].load('auth2',function(){_this2.auth2=window['gapi'].auth2.init({client_id:SocialConfig.google.app_id,cookiepolicy:'single_host_origin',scope:'profile email'});_this2.prepareLoginButton();});};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src=\"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";fjs.parentNode.insertBefore(js,fjs);})(document,'script','google-jssdk');}},{key:\"render\",value:function render(){return React.createElement(\"a\",{href:\"/#\",onClick:this.onHandleClick,ref:\"googleLoginBtn\"},React.createElement(\"div\",{className:\"row-login\",id:\"btnGoogle\"},React.createElement(\"i\",{className:\"fa fa-google\",\"aria-hidden\":\"true\"}),React.createElement(\"p\",null,\"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Google\")));}}]);return GoogleLogin;}(Component);var mapStateToProps=function mapStateToProps(state){return{login:state.loginReducer};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{googleLogin:function googleLogin(email){dispatch(loginAction.loginGoogle(email));}};};export default connect(mapStateToProps,mapDispatchToProps)(GoogleLogin);","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/components/GoogleLogin.js"],"names":["React","Component","connect","SocialConfig","loginAction","GoogleLogin","props","prepareLoginButton","auth2","attachClickHandler","refs","googleLoginBtn","googleUser","profile","getBasicProfile","setState","email","getEmail","googleLogin","state","onHandleClick","e","preventDefault","window","load","init","client_id","google","app_id","cookiepolicy","scope","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","mapStateToProps","login","loginReducer","mapDispatchToProps","dispatch","loginGoogle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport SocialConfig from \"../config/SocialConfig\";\r\nimport loginAction from '../actions/login.actions';\r\n\r\nclass GoogleLogin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            email : '',\r\n        };\r\n    }\r\n\r\n    componentDidMount() { \r\n        window['googleSDKLoaded'] = () => {\r\n            window['gapi'].load('auth2', () => {\r\n                this.auth2 = window['gapi'].auth2.init({\r\n                    client_id: SocialConfig.google.app_id,\r\n                    cookiepolicy: 'single_host_origin',\r\n                    scope: 'profile email'\r\n                });\r\n                this.prepareLoginButton();\r\n            });\r\n        }\r\n        \r\n        (function(d, s, id){\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) {return;}\r\n            js = d.createElement(s); js.id = id;\r\n            js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'google-jssdk'));\r\n    }\r\n\r\n    prepareLoginButton = () => {     \r\n        this.auth2.attachClickHandler(this.refs.googleLoginBtn, {},\r\n        (googleUser) => {\r\n            let profile = googleUser.getBasicProfile();\r\n            this.setState({\r\n                email: profile.getEmail()\r\n            })\r\n            this.props.googleLogin(this.state.email);\r\n        });\r\n    }\r\n\r\n    onHandleClick = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <a href=\"/#\" onClick={this.onHandleClick} ref=\"googleLoginBtn\"><div className=\"row-login\" id=\"btnGoogle\">\r\n                <i className=\"fa fa-google\" aria-hidden=\"true\" />\r\n                <p>Đăng nhập bằng Google</p>\r\n                </div>\r\n            </a>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        login: state.loginReducer\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        googleLogin: (email) => {\r\n            dispatch(loginAction.loginGoogle(email))\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(GoogleLogin);"]},"metadata":{},"sourceType":"module"}