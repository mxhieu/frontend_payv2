{"ast":null,"code":"import _classCallCheck from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import SocialConfig from'../config/SocialConfig';import{connect}from\"react-redux\";import loginAction from'../actions/login.actions';var FacebookLogin=/*#__PURE__*/function(_Component){_inherits(FacebookLogin,_Component);function FacebookLogin(props){var _this;_classCallCheck(this,FacebookLogin);_this=_possibleConstructorReturn(this,_getPrototypeOf(FacebookLogin).call(this,props));_this.callApi=function(token){_this.props.facebookLogin(token);};_this.handleClick=function(e){e.preventDefault();window.FB.getLoginStatus(function(response){if(response.status!=='connected'){window.FB.login();}});};_this.state={accessToken:''};return _this;}_createClass(FacebookLogin,[{key:\"componentDidMount\",value:function componentDidMount(){window.fbAsyncInit=function(){window.FB.init({appId:SocialConfig.fb.app_id,false:true,// enable cookies to allow the server to access\nxfbml:true,// parse social plugins on this page\nversion:'v6.0'// use version 2.1\n});window.FB.Event.subscribe('auth.statusChange',function(response){if(response.authResponse&&response.status===\"connected\"){this.setState({accessToken:response.authResponse.accessToken});this.callApi(this.state.accessToken);}}.bind(this));}.bind(this);// Load the SDK asynchronously\n(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src=\"//connect.facebook.net/en_US/sdk.js\";fjs.parentNode.insertBefore(js,fjs);})(document,'script','facebook-jssdk');}},{key:\"render\",value:function render(){return React.createElement(\"a\",{href:\"/#\",onClick:this.handleClick},React.createElement(\"div\",{className:\"row-login\",id:\"btnFacebook\"},React.createElement(\"i\",{className:\"fa fa-facebook\",\"aria-hidden\":\"true\"}),React.createElement(\"p\",null,\"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Facebook\")));}}]);return FacebookLogin;}(Component);var mapStateToProps=function mapStateToProps(state){return{login:state.loginReducer};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{facebookLogin:function facebookLogin(token){dispatch(loginAction.loginFacebookRequest(token));}};};export default connect(mapStateToProps,mapDispatchToProps)(FacebookLogin);","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/components/FacebookLogin.js"],"names":["React","Component","SocialConfig","connect","loginAction","FacebookLogin","props","callApi","token","facebookLogin","handleClick","e","preventDefault","window","FB","getLoginStatus","response","status","login","state","accessToken","fbAsyncInit","init","appId","fb","app_id","false","xfbml","version","Event","subscribe","authResponse","setState","bind","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","mapStateToProps","loginReducer","mapDispatchToProps","dispatch","loginFacebookRequest"],"mappings":"0nBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,C,GAEMC,CAAAA,a,uEAEF,uBAAYC,KAAZ,CAAmB,+CACf,+EAAMA,KAAN,GADe,MAoCnBC,OApCmB,CAoCT,SAACC,KAAD,CAAW,CACjB,MAAKF,KAAL,CAAWG,aAAX,CAAyBD,KAAzB,EACH,CAtCkB,OAwCnBE,WAxCmB,CAwCL,SAACC,CAAD,CAAO,CACjBA,CAAC,CAACC,cAAF,GACAC,MAAM,CAACC,EAAP,CAAUC,cAAV,CAAyB,SAAUC,QAAV,CAAoB,CACzC,GAAGA,QAAQ,CAACC,MAAT,GAAoB,WAAvB,CAAmC,CAC/BJ,MAAM,CAACC,EAAP,CAAUI,KAAV,GACH,CACJ,CAJD,EAKH,CA/CkB,CAEf,MAAKC,KAAL,CAAa,CACTC,WAAW,CAAG,EADL,CAAb,CAFe,aAKlB,C,uFAEmB,CAChBP,MAAM,CAACQ,WAAP,CAAqB,UAAY,CAC7BR,MAAM,CAACC,EAAP,CAAUQ,IAAV,CAAe,CACXC,KAAK,CAAErB,YAAY,CAACsB,EAAb,CAAgBC,MADZ,CAEXC,KAAK,CAAE,IAFI,CAEG;AACdC,KAAK,CAAE,IAHI,CAGG;AACdC,OAAO,CAAE,MAAO;AAJL,CAAf,EAOAf,MAAM,CAACC,EAAP,CAAUe,KAAV,CAAgBC,SAAhB,CAA0B,mBAA1B,CAA+C,SAASd,QAAT,CAAmB,CAC9D,GAAIA,QAAQ,CAACe,YAAT,EAAyBf,QAAQ,CAACC,MAAT,GAAoB,WAAjD,CAA8D,CAC1D,KAAKe,QAAL,CAAc,CACVZ,WAAW,CAAEJ,QAAQ,CAACe,YAAT,CAAsBX,WADzB,CAAd,EAGA,KAAKb,OAAL,CAAa,KAAKY,KAAL,CAAWC,WAAxB,EACH,CACJ,CAP8C,CAO7Ca,IAP6C,CAOxC,IAPwC,CAA/C,EAQH,CAhBoB,CAgBnBA,IAhBmB,CAgBd,IAhBc,CAArB,CAkBA;AACC,UAAUC,CAAV,CAAaC,CAAb,CAAgBC,EAAhB,CAAoB,CACjB,GAAIC,CAAAA,EAAJ,CAAQC,GAAG,CAAGJ,CAAC,CAACK,oBAAF,CAAuBJ,CAAvB,EAA0B,CAA1B,CAAd,CACA,GAAID,CAAC,CAACM,cAAF,CAAiBJ,EAAjB,CAAJ,CAA0B,OAC1BC,EAAE,CAAGH,CAAC,CAACO,aAAF,CAAgBN,CAAhB,CAAL,CAAyBE,EAAE,CAACD,EAAH,CAAQA,EAAR,CACzBC,EAAE,CAACK,GAAH,CAAS,qCAAT,CACAJ,GAAG,CAACK,UAAJ,CAAeC,YAAf,CAA4BP,EAA5B,CAAgCC,GAAhC,EACH,CANA,EAMCO,QAND,CAMW,QANX,CAMqB,gBANrB,CAAD,CAOH,C,uCAeQ,CACL,MACI,0BAAG,IAAI,CAAC,IAAR,CAAa,OAAO,CAAE,KAAKnC,WAA3B,EACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,EAAE,CAAC,aAA9B,EACI,yBAAG,SAAS,CAAC,gBAAb,CAA8B,cAAY,MAA1C,EADJ,CAEI,2EAFJ,CADJ,CADJ,CAQH,C,2BA5DuBT,S,EA+D5B,GAAM6C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAA3B,KAAK,CAAI,CAC7B,MAAO,CACHD,KAAK,CAAEC,KAAK,CAAC4B,YADV,CAAP,CAGH,CAJD,CAMA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAW3C,KAAX,CAAqB,CAC5C,MAAO,CACHG,aAAa,CAAE,uBAACD,KAAD,CAAW,CACtByC,QAAQ,CAAC7C,WAAW,CAAC8C,oBAAZ,CAAiC1C,KAAjC,CAAD,CAAR,CACH,CAHE,CAAP,CAKH,CAND,CAQA,cAAeL,CAAAA,OAAO,CAClB2C,eADkB,CAElBE,kBAFkB,CAAP,CAGb3C,aAHa,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport SocialConfig from '../config/SocialConfig';\r\nimport { connect } from \"react-redux\";\r\nimport loginAction from '../actions/login.actions';\r\n\r\nclass FacebookLogin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            accessToken : '',\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fbAsyncInit = function () {\r\n            window.FB.init({\r\n                appId: SocialConfig.fb.app_id,\r\n                false: true,  // enable cookies to allow the server to access\r\n                xfbml: true,  // parse social plugins on this page\r\n                version: 'v6.0' // use version 2.1\r\n            });\r\n\r\n            window.FB.Event.subscribe('auth.statusChange', function(response) {\r\n                if (response.authResponse && response.status === \"connected\") {\r\n                    this.setState({\r\n                        accessToken: response.authResponse.accessToken\r\n                    })\r\n                    this.callApi(this.state.accessToken);\r\n                }\r\n            }.bind(this));\r\n        }.bind(this);\r\n\r\n        // Load the SDK asynchronously\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) return;\r\n            js = d.createElement(s); js.id = id;\r\n            js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n    }\r\n\r\n    callApi = (token) => {\r\n        this.props.facebookLogin(token)\r\n    }\r\n\r\n    handleClick = (e) => {\r\n        e.preventDefault();        \r\n        window.FB.getLoginStatus(function (response) {\r\n            if(response.status !== 'connected'){\r\n                window.FB.login();\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <a href=\"/#\" onClick={this.handleClick}>\r\n                <div className=\"row-login\" id=\"btnFacebook\">\r\n                    <i className=\"fa fa-facebook\" aria-hidden=\"true\" />\r\n                    <p>Đăng nhập bằng Facebook</p>\r\n                </div>\r\n            </a>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        login: state.loginReducer\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        facebookLogin: (token) => {\r\n            dispatch(loginAction.loginFacebookRequest(token))\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(FacebookLogin);"]},"metadata":{},"sourceType":"module"}