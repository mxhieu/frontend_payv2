{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactjs\\\\payv2\\\\myapp\\\\src\\\\components\\\\Paytowallet.js\";\nimport React, { Component } from 'react';\nimport '../assets/css/paytowallet.css';\nimport * as _ from 'lodash';\nimport api from '../utils/Api';\nimport apiConfig from '../config/ApiConfig';\nimport commonConfig from '../config/CommonConfig';\nimport Validate from \"../utils/Validate\";\nimport PayBreadcrumb from './PayBreadcrumb';\nexport default class Paytowallet extends Component {\n  /**\r\n   * Constructor\r\n   * @param props\r\n   * @created 2020-03-18 LongTHK\r\n   */\n  constructor(props) {\n    super(props);\n\n    this.changeServerGroup = event => {\n      // get server group value\n      let serverGroupValue = event.target.value; // load servers list base on group\n\n      if (serverGroupValue !== '') {\n        this.setState({\n          serversList: this.state.serverGroups[serverGroupValue],\n          isDisableSelectServers: false\n        });\n      } else {\n        this.setState({\n          isDisableSelectServers: true\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState(prevState => ({\n        payItem: { ...prevState.payItem,\n          [name]: value\n        }\n      }));\n    };\n\n    this.handleServerChanged = event => {\n      // get md5\n      let md5 = require('md5'); // get params\n\n\n      let userId = JSON.parse(localStorage.getItem('user')).data.id;\n      let sign = md5(userId + apiConfig.jwtToken); // define endpoint\n\n      let endPoint = apiConfig.domain + apiConfig.endpoint.getRole + '?server_id=' + event.target.value + '&id_user=' + userId + '&productAgent=' + this.state.game.agent + '&sign=' + sign; // call api\n\n      api.call('GET', endPoint).then(response => {\n        // get response data\n        let responseData = response.data;\n\n        if (responseData.status) {\n          this.setState({\n            roleName: responseData.data.role[0].roleName\n          });\n        } else {\n          this.setState({\n            roleName: responseData.messages\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.changePayItem = payType => {\n      switch (payType) {\n        case 'card':\n          this.setState({\n            payItem: {\n              cardType: '',\n              serie: '',\n              number: ''\n            }\n          });\n          break;\n\n        case 'atm':\n          this.setState({\n            payItem: {\n              amount: ''\n            }\n          });\n          break;\n\n        default:\n          this.setState({\n            payItem: {\n              cardType: '',\n              serie: '',\n              number: ''\n            }\n          });\n      } // push value to pay item\n\n\n      this.setState(prevState => ({\n        payItem: { ...prevState.payItem,\n          username: this.state.username,\n          productAgent: this.state.game.agent\n        }\n      })); // reset error\n\n      this.setState({\n        errors: {}\n      });\n    };\n\n    this.payByCard = async () => {\n      // reset error\n      this.setState({\n        errors: {}\n      });\n\n      if (await this.validatePayByCard()) {\n        // set inProcessing mode\n        this.setState({\n          inProcessing: true\n        }); // get md5\n\n        const md5 = require('md5'); // get pay item\n\n\n        const payItem = this.state.payItem; // generate endpoint\n\n        const endPoint = apiConfig.domain + apiConfig.endpoint.paymentWalletChargeCard + '?serial=' + payItem.serie + '&code=' + payItem.number + '&username=' + payItem.username + '&productAgent=' + payItem.productAgent + '&type=' + payItem.cardType + '&sign=' + md5(payItem.username + apiConfig.jwtToken); // call api\n\n        api.call('GET', endPoint).then(response => {\n          // get response data\n          let responseData = response.data; // set state\n\n          if (responseData.status) {\n            this.setState({\n              balance: responseData.data.balance,\n              processingResult: {\n                status: true,\n                message: responseData.messages\n              }\n            });\n          } else {\n            this.setState({\n              processingResult: {\n                status: false,\n                message: responseData.messages\n              }\n            });\n          }\n        }).catch(err => {\n          console.log(err);\n        }).finally(() => {\n          // release inProcessing mode\n          this.setState({\n            inProcessing: false\n          });\n        });\n      }\n    };\n\n    this.payByATM = async () => {\n      // reset error\n      this.setState({\n        errors: {}\n      });\n\n      if (await this.validatePayByATM()) {\n        // set inProcessing mode\n        this.setState({\n          inProcessing: true\n        }); // get md5\n\n        const md5 = require('md5'); // get pay item\n\n\n        const payItem = this.state.payItem; // generate endpoint\n\n        const endPoint = apiConfig.domain + apiConfig.endpoint.paymentWalletChargeATM + '?username=' + payItem.username + '&productAgent=' + payItem.productAgent + '&amount=' + payItem.amount + '&sign=' + md5(payItem.username + apiConfig.jwtToken); // call api\n\n        api.call('GET', endPoint).then(response => {\n          window.location.href = response.data.data.link;\n        }).catch(err => {\n          // release inProcessing mode\n          this.setState({\n            inProcessing: false\n          });\n          console.log(err);\n        });\n      }\n    };\n\n    this.validatePayByCard = async () => {\n      // define valid status\n      let isValid = true; // define errors\n\n      let errors = {}; // check card type\n\n      if (Validate.isRequired(this.state.payItem.cardType)) {\n        errors.cardType = 'Vui lòng chọn loại thẻ';\n        isValid = false;\n      } // check serie\n\n\n      if (Validate.isRequired(this.state.payItem.serie)) {\n        errors.serie = 'Vui lòng nhập số seri';\n        isValid = false;\n      }\n\n      if (Validate.maxLength(this.state.payItem.serie, 20)) {\n        errors.serie = 'Seri tối đa 20 ký tự';\n        isValid = false;\n      }\n\n      if (Validate.minLength(this.state.payItem.serie, 6)) {\n        errors.serie = 'Seri tối đa 20 ký tự';\n        isValid = false;\n      } // check number\n\n\n      if (Validate.isRequired(this.state.payItem.number)) {\n        errors.number = 'Vui lòng nhập mã thẻ';\n        isValid = false;\n      } // set errors\n\n\n      await this.setState({\n        errors: errors\n      });\n      return isValid;\n    };\n\n    this.validatePayByATM = async () => {\n      // define valid status\n      let isValid = true; // define errors\n\n      let errors = {}; // check amount\n\n      if (Validate.isRequired(this.state.payItem.amount)) {\n        errors.amount = 'Vui lòng chọn số tiền nạp';\n        isValid = false;\n      } // set errors\n\n\n      await this.setState({\n        errors: errors\n      });\n      return isValid;\n    };\n\n    this.state = {\n      username: '',\n      balance: 0,\n      game: {},\n      cardsList: commonConfig.CardsList,\n      atmValuesList: commonConfig.ATMValuesList,\n      serverGroups: [],\n      serversList: [],\n      isDisableSelectServers: true,\n      payItem: {},\n      inLoadingPage: false,\n      inProcessing: false,\n      processingResult: {\n        status: null,\n        message: ''\n      },\n      errors: {},\n      roleName: '',\n      atmResponseMessage: ''\n    };\n  }\n  /**\r\n   * On component did mount event\r\n   * @created 2020-03-18 LongTHk\r\n   */\n\n\n  componentDidMount() {\n    // get md5\n    let md5 = require('md5'); // get username\n\n\n    let username = JSON.parse(localStorage.getItem('user')).data.username; // get query string\n\n    let queryString = require('query-string'); // set inLoadingPage status\n\n\n    this.setState({\n      inLoadingPage: true\n    }); // call api get page content\n\n    let slug = this.props.match.match.params.slug;\n    let sign = md5(username + apiConfig.jwtToken);\n    let endPoint = apiConfig.domain + apiConfig.endpoint.getDetailGameToWallet + '?slug=' + slug + '&username=' + username + '&sign=' + sign;\n    api.call('GET', endPoint).then(response => {\n      // get return data\n      let data = response.data.data; // spit servers list into server groups\n\n      let serverGroups = _.chunk(data.servers, 10); // set state\n\n\n      this.setState({\n        username: username,\n        balance: data.balance,\n        game: Object.keys(data).length > 0 ? data.game[0] : null,\n        serverGroups: serverGroups\n      }); // call api check Charging ATM status\n\n      let strParams = this.props.match.location.search;\n      let params = queryString.parse(strParams);\n\n      if (_.has(params, 'trans_id')) {\n        let endpointATMSuccess = apiConfig.domain + apiConfig.endpoint.paymentWalletChargeATMSuccess + strParams;\n        api.call('GET', endpointATMSuccess).then(response => {\n          // set atm response message\n          this.setState({\n            atmResponseMessage: response.data.messages\n          }); // show modal\n\n          let modalATMReport = window.$('.modal-atm-report');\n          modalATMReport.modal('show');\n          modalATMReport.on('click', function () {\n            modalATMReport.modal('hide');\n          });\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      // set inLoadingPage status\n      this.setState({\n        inLoadingPage: false\n      });\n    });\n  }\n  /**\r\n   * Action on server group changee\r\n   * @param event\r\n   * @crated 2020-03018 LongTHK\r\n   */\n\n\n  /**\r\n   * Render layout\r\n   * @returns {*}\r\n   * @created 2020-03-18 LongTHK\r\n   */\n  render() {\n    /**\r\n     * Loading page animation\r\n     */\n    if (this.state.inLoadingPage) {\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"lds-dual-ring\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }));\n    }\n    /**\r\n     * Render in case game not found\r\n     */\n\n\n    if (this.state.game === null) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, \"Kh\\xF4ng t\\xECm th\\u1EA5y game\"));\n    }\n    /**\r\n     * Page render\r\n     */\n\n\n    return React.createElement(\"div\", {\n      className: \"container paytowallet_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(PayBreadcrumb, {\n      match: this.props.match.match,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      method: \"POST\",\n      name: \"napgold\",\n      id: \"napgold\",\n      noValidate: \"novalidate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, this.state.game.name), React.createElement(\"div\", {\n      className: \"qa-message-list\",\n      id: \"wallmessages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-item\",\n      id: \"accRole\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-head clearfix handle-acc-role\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"handle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, \"T\\xE0i kho\\u1EA3n : \", this.state.username), React.createElement(\"h6\", {\n      className: \"handle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, \"S\\u1ED1 d\\u01B0 : \", this.state.balance.toLocaleString('it-IT', {\n      style: 'currency',\n      currency: 'VND'\n    })), React.createElement(\"input\", {\n      type: \"hidden\",\n      defaultValue: 0,\n      name: \"balance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      defaultValue: 771866,\n      name: \"id_user\",\n      id: \"id_user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      defaultValue: 0,\n      name: \"amount\",\n      id: \"amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      defaultValue: 0,\n      name: \"gold_id\",\n      id: \"gold_id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      defaultValue: true,\n      name: \"theThang\",\n      id: \"theThang\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"message-item\",\n      id: \"accType\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-head clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"handle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, \"Ch\\u1ECDn ph\\u01B0\\u01A1ng th\\u1EE9c \\u0111\\u1EC3 n\\u1EA1p ti\\u1EC1n v\\xE0o v\\xED\"))), React.createElement(\"div\", {\n      className: \"qa-message-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"collapse-group\",\n      id: \"accordion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingOne\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      href: \"#collapseOne\",\n      onClick: this.changePayItem.bind(window.event, 'card'),\n      \"data-parent\": \"#accordion\",\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": \"collapseOne\",\n      className: \"trigger collapsed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, \"Th\\u1EBB c\\xE0o\"))), React.createElement(\"div\", {\n      id: \"collapseOne\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingOne\",\n      \"data-id\": \"Th\\u1EBB c\\xE0o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-pane active\",\n      id: \"tab_card_pay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"in_type\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, \"Lo\\u1EA1i th\\u1EBB\"), this.state.errors.hasOwnProperty('cardType') && React.createElement(\"span\", {\n      className: \"input-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, this.state.errors.cardType), React.createElement(\"select\", {\n      name: \"cardType\",\n      className: \"form-control valid\",\n      \"aria-invalid\": \"false\",\n      onChange: this.handleChange,\n      onBlur: this.validatePayByCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, \"Ch\\u1ECDn lo\\u1EA1i th\\u1EBB\"), _.map(this.state.cardsList, (itemValue, itemIndex) => React.createElement(\"option\", {\n      key: itemIndex,\n      value: itemValue.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }, itemValue.name)))), React.createElement(\"label\", {\n      htmlFor: \"in_serie\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }, \"S\\u1ED1 serie\"), this.state.errors.hasOwnProperty('serie') && React.createElement(\"span\", {\n      className: \"input-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, this.state.errors.serie), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"serie\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      onBlur: this.validatePayByCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"in_pin\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, \"M\\xE3 th\\u1EBB\"), this.state.errors.hasOwnProperty('number') && React.createElement(\"span\", {\n      className: \"input-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537\n      },\n      __self: this\n    }, this.state.errors.number), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"number\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      onBlur: this.validatePayByCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      id: \"btnXacnhan\",\n      type: \"button\",\n      \"data-id\": \"the-cao\",\n      onClick: this.payByCard,\n      disabled: this.state.inProcessing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    }, !this.state.inProcessing && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, \"Thanh to\\xE1n\"), this.state.inProcessing && React.createElement(\"div\", {\n      className: 'dot-loader',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562\n      },\n      __self: this\n    }))), this.state.processingResult.status !== null && !this.state.processingResult.status && React.createElement(\"span\", {\n      className: \"message-alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, this.state.processingResult.message) || this.state.processingResult.status !== null && this.state.processingResult.status && React.createElement(\"span\", {\n      className: \"message-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }, this.state.processingResult.message), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"panel panel-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingTwo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"panel-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      href: \"#collapseTwo\",\n      \"data-parent\": \"#accordion\",\n      onClick: this.changePayItem.bind(window.event, 'atm'),\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": \"collapseTwo\",\n      className: \"trigger collapsed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588\n      },\n      __self: this\n    }, \"Th\\u1EBB ATM/N\\u1ED9i \\u0111\\u1ECBa/NAPAS\"))), React.createElement(\"div\", {\n      id: \"collapseTwo\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingTwo\",\n      \"data-id\": \"Th\\u1EBB ATM/N\\u1ED9i \\u0111\\u1ECBa/NAPAS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"tab_card_pay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"amount_pay\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 602\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604\n      },\n      __self: this\n    }, \"S\\u1ED1 ti\\u1EC1n thanh to\\xE1n (VN\\u0110)\"), this.state.errors.hasOwnProperty('amount') && React.createElement(\"span\", {\n      className: \"input-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    }, this.state.errors.amount), React.createElement(\"select\", {\n      name: \"amount\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      onBlur: this.validatePayByATM,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612\n      },\n      __self: this\n    }, \"Ch\\u1ECDn s\\u1ED1 ti\\u1EC1n\"), _.map(this.state.atmValuesList, (itemValue, itemIndex) => React.createElement(\"option\", {\n      key: itemIndex,\n      value: itemValue.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615\n      },\n      __self: this\n    }, itemValue.displayText)))), React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      id: \"btnXacnhan\",\n      type: \"button\",\n      \"data-id\": \"the-atm\",\n      onClick: this.payByATM,\n      disabled: this.state.inProcessing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621\n      },\n      __self: this\n    }, !this.state.inProcessing && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627\n      },\n      __self: this\n    }, \"Thanh to\\xE1n\"), this.state.inProcessing && React.createElement(\"div\", {\n      className: 'dot-loader',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 634\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 635\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 636\n      },\n      __self: this\n    }))))))))), React.createElement(\"div\", {\n      className: \"message-alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646\n      },\n      __self: this\n    }, \"N\\u1EA0P HPCODE = 100% ; GATE = 100% ; VCOIN = 90% ; ATM = 100% (Th\\u1EBB HPCode c\\xF3 b\\xE1n \\u1EDF c\\xE1c c\\u1EEDa h\\xE0ng c\\u1EE7a Payoo & b\\xE1n online t\\u1EA1i Website Napthegame.net )\"))), React.createElement(\"div\", {\n      className: \"message-item\",\n      id: \"accGetRole\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-head clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 654\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"handle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656\n      },\n      __self: this\n    }, \"Ch\\u1ECDn server \\u0111\\u1EC3 n\\u1EA1p ti\\u1EC1n v\\xE0o game\"))), React.createElement(\"div\", {\n      className: \"qa-message-content content_server\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"divserverList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"agent\",\n      id: \"agent\",\n      defaultValue: \"m002\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 661\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"server_group\",\n      className: \"col-sm-12 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 662\n      },\n      __self: this\n    }, \"Ch\\u1ECDn c\\u1EE5m m\\xE1y ch\\u1EE7:\"), React.createElement(\"select\", {\n      name: \"server_group\",\n      className: \"form-control \",\n      id: \"server_group\",\n      onChange: this.changeServerGroup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669\n      },\n      __self: this\n    }, \"Ch\\u1ECDn group server\"), _.map(this.state.serverGroups, (serverGroupValue, serverGroupIndex) => React.createElement(\"option\", {\n      key: serverGroupIndex,\n      value: serverGroupIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672\n      },\n      __self: this\n    }, \"C\\u1EE5m m\\xE1y ch\\u1EE7 \", serverGroupIndex * 10 + 1, \" - \", serverGroupIndex * 10 + 10))), React.createElement(\"label\", {\n      htmlFor: \"server_list\",\n      className: \"col-sm-12 controll-label\",\n      style: {\n        width: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679\n      },\n      __self: this\n    }, \"Ch\\u1ECDn server:\"), React.createElement(\"select\", {\n      name: \"server_id\",\n      className: \"form-control \",\n      id: \"server_list\",\n      disabled: this.state.isDisableSelectServers,\n      onChange: this.handleServerChanged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 688\n      },\n      __self: this\n    }, \"Ch\\u1ECDn server\"), _.map(this.state.serversList, (serverValue, serverIndex) => React.createElement(\"option\", {\n      key: serverIndex,\n      value: serverValue.server_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691\n      },\n      __self: this\n    }, serverValue.server_name)))), React.createElement(\"div\", {\n      id: \"appentHtml\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 698\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"role-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 699\n      },\n      __self: this\n    }, this.state.roleName)), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"message-item\",\n      id: \"accRang\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 707\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-head clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 709\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"handle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711\n      },\n      __self: this\n    }, \"Ch\\u1ECDn g\\xF3i v\\u1EADt ph\\u1EA9m\"), React.createElement(\"p\", {\n      className: \"tab\",\n      id: \"coingold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712\n      },\n      __self: this\n    }, \"G\\xF3i Nguy\\xEAn B\\u1EA3o\"), React.createElement(\"p\", {\n      className: \"tab\",\n      id: \"coingift\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 713\n      },\n      __self: this\n    }, \"G\\xF3i Qu\\xE0 \\u0110\\u1EB7c Bi\\u1EC7t\"))), React.createElement(\"div\", {\n      className: \"qa-message-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group resultCoin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 717\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"showcoingold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 718\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"showcoingift\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 719\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      id: \"myModal\",\n      className: \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 727\n      },\n      __self: this\n    }, \"X\\xE1c nh\\u1EADn giao d\\u1ECBch\"), React.createElement(\"input\", {\n      type: \"submit\",\n      name: \"submit\",\n      id: \"submitbutton\",\n      className: \"col-sm-3 btn btn-primary\",\n      defaultValue: \"Thanh to\\xE1n\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 728\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"close btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 732\n      },\n      __self: this\n    }, \"Ch\\u1EA5p nh\\u1EADn\")))))), React.createElement(\"div\", {\n      className: \"modal modal-atm-report fade\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"data-backdrop\": \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 739\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 740\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 741\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 743\n      },\n      __self: this\n    }, this.state.atmResponseMessage))))));\n  }\n\n}","map":{"version":3,"sources":["C:/reactjs/payv2/myapp/src/components/Paytowallet.js"],"names":["React","Component","_","api","apiConfig","commonConfig","Validate","PayBreadcrumb","Paytowallet","constructor","props","changeServerGroup","event","serverGroupValue","target","value","setState","serversList","state","serverGroups","isDisableSelectServers","handleChange","type","checked","name","prevState","payItem","handleServerChanged","md5","require","userId","JSON","parse","localStorage","getItem","data","id","sign","jwtToken","endPoint","domain","endpoint","getRole","game","agent","call","then","response","responseData","status","roleName","role","messages","catch","error","console","log","changePayItem","payType","cardType","serie","number","amount","username","productAgent","errors","payByCard","validatePayByCard","inProcessing","paymentWalletChargeCard","balance","processingResult","message","err","finally","payByATM","validatePayByATM","paymentWalletChargeATM","window","location","href","link","isValid","isRequired","maxLength","minLength","cardsList","CardsList","atmValuesList","ATMValuesList","inLoadingPage","atmResponseMessage","componentDidMount","queryString","slug","match","params","getDetailGameToWallet","chunk","servers","Object","keys","length","strParams","search","has","endpointATMSuccess","paymentWalletChargeATMSuccess","modalATMReport","$","modal","on","render","textAlign","toLocaleString","style","currency","bind","hasOwnProperty","map","itemValue","itemIndex","displayText","serverGroupIndex","width","serverValue","serverIndex","server_id","server_name"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport '../assets/css/paytowallet.css'\r\n\r\nimport * as _ from 'lodash';\r\n\r\nimport api from '../utils/Api';\r\nimport apiConfig from '../config/ApiConfig';\r\nimport commonConfig from '../config/CommonConfig';\r\nimport Validate from \"../utils/Validate\";\r\n\r\nimport PayBreadcrumb from './PayBreadcrumb'\r\n\r\nexport default class Paytowallet extends Component {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param props\r\n     * @created 2020-03-18 LongTHK\r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            balance: 0,\r\n            game: {},\r\n            cardsList: commonConfig.CardsList,\r\n            atmValuesList: commonConfig.ATMValuesList,\r\n            serverGroups: [],\r\n            serversList: [],\r\n            isDisableSelectServers: true,\r\n            payItem: {},\r\n            inLoadingPage: false,\r\n            inProcessing: false,\r\n            processingResult: {\r\n                status: null,\r\n                message: ''\r\n            },\r\n            errors: {},\r\n            roleName: '',\r\n            atmResponseMessage: ''\r\n        }\r\n    }\r\n\r\n    /**\r\n     * On component did mount event\r\n     * @created 2020-03-18 LongTHk\r\n     */\r\n    componentDidMount() {\r\n        // get md5\r\n        let md5 = require('md5');\r\n        // get username\r\n        let username = JSON.parse(localStorage.getItem('user')).data.username;\r\n        // get query string\r\n        let queryString = require('query-string');\r\n\r\n        // set inLoadingPage status\r\n        this.setState({\r\n            inLoadingPage: true\r\n        });\r\n\r\n        // call api get page content\r\n        let slug = this.props.match.match.params.slug;\r\n        let sign = md5(username + apiConfig.jwtToken);\r\n        let endPoint = apiConfig.domain + apiConfig.endpoint.getDetailGameToWallet + '?slug=' + slug + '&username=' + username + '&sign=' + sign;\r\n        api.call('GET', endPoint)\r\n            .then((response) => {\r\n                // get return data\r\n                let data = response.data.data;\r\n                // spit servers list into server groups\r\n                let serverGroups = _.chunk(data.servers, 10);\r\n                // set state\r\n                this.setState({\r\n                    username: username,\r\n                    balance: data.balance,\r\n                    game: Object.keys(data).length > 0 ? data.game[0] : null,\r\n                    serverGroups: serverGroups\r\n                });\r\n\r\n                // call api check Charging ATM status\r\n                let strParams = this.props.match.location.search;\r\n                let params = queryString.parse(strParams);\r\n                if (_.has(params, 'trans_id')) {\r\n                    let endpointATMSuccess = apiConfig.domain + apiConfig.endpoint.paymentWalletChargeATMSuccess + strParams;\r\n                    api.call('GET', endpointATMSuccess)\r\n                        .then((response) => {\r\n\r\n                            // set atm response message\r\n                            this.setState({\r\n                                atmResponseMessage: response.data.messages\r\n                            });\r\n                            // show modal\r\n                            let modalATMReport = window.$('.modal-atm-report');\r\n                            modalATMReport.modal('show');\r\n                            modalATMReport.on('click', function () {\r\n                                modalATMReport.modal('hide')\r\n                            });\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err)\r\n                        });\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n            .finally(() => {\r\n                // set inLoadingPage status\r\n                this.setState({\r\n                    inLoadingPage: false\r\n                });\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Action on server group changee\r\n     * @param event\r\n     * @crated 2020-03018 LongTHK\r\n     */\r\n    changeServerGroup = (event) => {\r\n        // get server group value\r\n        let serverGroupValue = event.target.value;\r\n\r\n        // load servers list base on group\r\n        if (serverGroupValue !== '') {\r\n            this.setState({\r\n                serversList: this.state.serverGroups[serverGroupValue],\r\n                isDisableSelectServers: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isDisableSelectServers: true\r\n            })\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Handle changing input data\r\n     * @param event\r\n     * @created 2020-03-19 LongTHK\r\n     */\r\n    handleChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState(prevState => ({\r\n            payItem: {\r\n                ...prevState.payItem,\r\n                [name]: value\r\n            }\r\n        }))\r\n    };\r\n\r\n    /**\r\n     * Get role name\r\n     * @param event\r\n     */\r\n    handleServerChanged = (event) => {\r\n        // get md5\r\n        let md5 = require('md5');\r\n\r\n        // get params\r\n        let userId = JSON.parse(localStorage.getItem('user')).data.id;\r\n        let sign = md5(userId + apiConfig.jwtToken);\r\n\r\n        // define endpoint\r\n        let endPoint = apiConfig.domain + apiConfig.endpoint.getRole +\r\n            '?server_id=' + event.target.value +\r\n            '&id_user=' + userId +\r\n            '&productAgent=' + this.state.game.agent +\r\n            '&sign=' + sign;\r\n\r\n        // call api\r\n        api.call('GET', endPoint)\r\n            .then((response) => {\r\n                // get response data\r\n                let responseData = response.data;\r\n\r\n                if (responseData.status) {\r\n                    this.setState({\r\n                        roleName: responseData.data.role[0].roleName\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        roleName: responseData.messages\r\n                    })\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Change pay item\r\n     * @param payType\r\n     * @created 2020-03-19 LongTHK\r\n     */\r\n    changePayItem = (payType) => {\r\n        switch (payType) {\r\n            case 'card':\r\n                this.setState({\r\n                    payItem: {\r\n                        cardType: '',\r\n                        serie: '',\r\n                        number: ''\r\n                    }\r\n                });\r\n                break;\r\n            case 'atm':\r\n                this.setState({\r\n                    payItem: {\r\n                        amount: '',\r\n                    }\r\n                });\r\n                break;\r\n            default :\r\n                this.setState({\r\n                    payItem: {\r\n                        cardType: '',\r\n                        serie: '',\r\n                        number: ''\r\n                    }\r\n                });\r\n        }\r\n\r\n        // push value to pay item\r\n        this.setState(prevState => ({\r\n            payItem: {\r\n                ...prevState.payItem,\r\n                username: this.state.username,\r\n                productAgent: this.state.game.agent\r\n            }\r\n        }));\r\n\r\n        // reset error\r\n        this.setState({\r\n            errors: {}\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Pay by card\r\n     * @created 2020-03-19 LongTHk\r\n     */\r\n    payByCard = async () => {\r\n        // reset error\r\n        this.setState({\r\n            errors: {}\r\n        });\r\n\r\n        if (await this.validatePayByCard()) {\r\n            // set inProcessing mode\r\n            this.setState({\r\n                inProcessing: true\r\n            });\r\n            // get md5\r\n            const md5 = require('md5');\r\n            // get pay item\r\n            const payItem = this.state.payItem;\r\n\r\n            // generate endpoint\r\n            const endPoint = apiConfig.domain + apiConfig.endpoint.paymentWalletChargeCard +\r\n                '?serial=' + payItem.serie +\r\n                '&code=' + payItem.number +\r\n                '&username=' + payItem.username +\r\n                '&productAgent=' + payItem.productAgent +\r\n                '&type=' + payItem.cardType +\r\n                '&sign=' + md5(payItem.username + apiConfig.jwtToken);\r\n\r\n            // call api\r\n            api.call('GET', endPoint)\r\n                .then((response) => {\r\n                    // get response data\r\n                    let responseData = response.data;\r\n\r\n                    // set state\r\n                    if (responseData.status) {\r\n                        this.setState({\r\n                            balance: responseData.data.balance,\r\n                            processingResult: {\r\n                                status: true,\r\n                                message: responseData.messages\r\n                            }\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            processingResult: {\r\n                                status: false,\r\n                                message: responseData.messages\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                })\r\n                .finally(() => {\r\n                    // release inProcessing mode\r\n                    this.setState({\r\n                        inProcessing: false\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Pay by ATM\r\n     * @created 2020-03-19 LongTHk\r\n     */\r\n    payByATM = async () => {\r\n        // reset error\r\n        this.setState({\r\n            errors: {}\r\n        });\r\n\r\n        if (await this.validatePayByATM()) {\r\n            // set inProcessing mode\r\n            this.setState({\r\n                inProcessing: true\r\n            });\r\n            // get md5\r\n            const md5 = require('md5');\r\n            // get pay item\r\n            const payItem = this.state.payItem;\r\n\r\n            // generate endpoint\r\n            const endPoint = apiConfig.domain + apiConfig.endpoint.paymentWalletChargeATM +\r\n                '?username=' + payItem.username +\r\n                '&productAgent=' + payItem.productAgent +\r\n                '&amount=' + payItem.amount +\r\n                '&sign=' + md5(payItem.username + apiConfig.jwtToken);\r\n\r\n            // call api\r\n            api.call('GET', endPoint)\r\n                .then((response) => {\r\n                    window.location.href = response.data.data.link;\r\n                })\r\n                .catch((err) => {\r\n                    // release inProcessing mode\r\n                    this.setState({\r\n                        inProcessing: false\r\n                    });\r\n                    console.log(err)\r\n                });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Validate Pay by card input\r\n     * @returns {Promise<boolean>}\r\n     * @created 2020-03-19 LongTHK\r\n     */\r\n    validatePayByCard = async () => {\r\n        // define valid status\r\n        let isValid = true;\r\n        // define errors\r\n        let errors = {};\r\n\r\n        // check card type\r\n        if (Validate.isRequired(this.state.payItem.cardType)) {\r\n            errors.cardType = 'Vui lòng chọn loại thẻ';\r\n            isValid = false;\r\n        }\r\n        // check serie\r\n        if (Validate.isRequired(this.state.payItem.serie)) {\r\n            errors.serie = 'Vui lòng nhập số seri';\r\n            isValid = false;\r\n        }\r\n        if (Validate.maxLength(this.state.payItem.serie, 20)) {\r\n            errors.serie = 'Seri tối đa 20 ký tự';\r\n            isValid = false;\r\n        }\r\n        if (Validate.minLength(this.state.payItem.serie, 6)) {\r\n            errors.serie = 'Seri tối đa 20 ký tự';\r\n            isValid = false;\r\n        }\r\n        // check number\r\n        if (Validate.isRequired(this.state.payItem.number)) {\r\n            errors.number = 'Vui lòng nhập mã thẻ';\r\n            isValid = false;\r\n        }\r\n\r\n        // set errors\r\n        await this.setState({\r\n            errors: errors\r\n        });\r\n\r\n        return isValid;\r\n    };\r\n\r\n    /**\r\n     * Validate Pay by ATM input\r\n     * @returns {Promise<boolean>}\r\n     * @created 2020-03-19 LongTHk\r\n     */\r\n    validatePayByATM = async () => {\r\n        // define valid status\r\n        let isValid = true;\r\n        // define errors\r\n        let errors = {};\r\n\r\n        // check amount\r\n        if (Validate.isRequired(this.state.payItem.amount)) {\r\n            errors.amount = 'Vui lòng chọn số tiền nạp';\r\n            isValid = false;\r\n        }\r\n\r\n        // set errors\r\n        await this.setState({\r\n            errors: errors\r\n        });\r\n\r\n        return isValid;\r\n    };\r\n\r\n    /**\r\n     * Render layout\r\n     * @returns {*}\r\n     * @created 2020-03-18 LongTHK\r\n     */\r\n    render() {\r\n        /**\r\n         * Loading page animation\r\n         */\r\n        if (this.state.inLoadingPage) {\r\n            return (\r\n                <div style={{textAlign: \"center\"}}>\r\n                    <div className=\"lds-dual-ring\"></div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        /**\r\n         * Render in case game not found\r\n         */\r\n        if (this.state.game === null) {\r\n            return (\r\n                <div>\r\n                    <h1 className='text-center'>Không tìm thấy game</h1>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        /**\r\n         * Page render\r\n         */\r\n        return (\r\n            <div className=\"container paytowallet_container\">\r\n                <div className=\"row box\">\r\n                    <PayBreadcrumb match={this.props.match.match}></PayBreadcrumb>\r\n                    <form method=\"POST\" name=\"napgold\" id=\"napgold\" noValidate=\"novalidate\">\r\n                        <h2>{this.state.game.name}</h2>\r\n                        <div className=\"qa-message-list\" id=\"wallmessages\">\r\n                            <div className=\"message-item\" id=\"accRole\">\r\n                                <div className=\"message-inner\">\r\n                                    <div className=\"message-head clearfix handle-acc-role\">\r\n                                        <div className=\"user-detail\">\r\n                                            <h5 className=\"handle\">Tài khoản : {this.state.username}</h5>\r\n                                            <h6 className=\"handle\">Số dư : {this.state.balance.toLocaleString('it-IT', {style : 'currency', currency : 'VND'})}</h6>\r\n                                            <input type=\"hidden\" defaultValue={0} name=\"balance\"/>\r\n                                            <input type=\"hidden\" defaultValue={771866} name=\"id_user\" id=\"id_user\"/>\r\n                                            <input type=\"hidden\" defaultValue={0} name=\"amount\" id=\"amount\"/>\r\n                                            <input type=\"hidden\" defaultValue={0} name=\"gold_id\" id=\"gold_id\"/>\r\n                                            <input type=\"hidden\" defaultValue name=\"theThang\" id=\"theThang\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"message-item\" id=\"accType\">\r\n                                <div className=\"message-inner\">\r\n                                    <div className=\"message-head clearfix\">\r\n                                        <div className=\"user-detail\">\r\n                                            <h5 className=\"handle\">Chọn phương thức để nạp tiền vào ví</h5>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"qa-message-content\">\r\n                                        <div className=\"collapse-group\" id=\"accordion\">\r\n                                            <div className=\"panel panel-default\">\r\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingOne\">\r\n                                                    <h4 className=\"panel-title\">\r\n                                                        <a role=\"button\" data-toggle=\"collapse\" href=\"#collapseOne\"\r\n                                                           onClick={this.changePayItem.bind(window.event, 'card')}\r\n                                                           data-parent=\"#accordion\"\r\n                                                           aria-expanded=\"true\" aria-controls=\"collapseOne\"\r\n                                                           className=\"trigger collapsed\">\r\n                                                            Thẻ cào\r\n                                                        </a>\r\n                                                    </h4>\r\n                                                </div>\r\n                                                <div id=\"collapseOne\" className=\"panel-collapse collapse\"\r\n                                                     role=\"tabpanel\"\r\n                                                     aria-labelledby=\"headingOne\" data-id=\"Thẻ cào\">\r\n                                                    <div className=\"panel-body\">\r\n                                                        <div className=\"tab-pane active\" id=\"tab_card_pay\">\r\n                                                            <label htmlFor=\"in_type\"\r\n                                                                   className=\"col-sm-12 controll-label\">\r\n                                                                <span>Loại thẻ</span>\r\n                                                                {\r\n                                                                    this.state.errors.hasOwnProperty('cardType') &&\r\n                                                                    <span\r\n                                                                        className=\"input-error\">{this.state.errors.cardType}</span>\r\n                                                                }\r\n                                                                <select name=\"cardType\" className=\"form-control valid\"\r\n                                                                        aria-invalid=\"false\"\r\n                                                                        onChange={this.handleChange}\r\n                                                                        onBlur={this.validatePayByCard}\r\n                                                                >\r\n                                                                    <option value=\"\">Chọn loại thẻ</option>\r\n                                                                    {\r\n                                                                        _.map(this.state.cardsList, (itemValue, itemIndex) =>\r\n                                                                            <option key={itemIndex}\r\n                                                                                    value={itemValue.type}>{itemValue.name}</option>\r\n                                                                        )\r\n                                                                    }\r\n                                                                </select>\r\n                                                            </label>\r\n                                                            <label htmlFor=\"in_serie\"\r\n                                                                   className=\"col-sm-12 controll-label\">\r\n                                                                <span>Số serie</span>\r\n                                                                {\r\n                                                                    this.state.errors.hasOwnProperty('serie') &&\r\n                                                                    <span\r\n                                                                        className=\"input-error\">{this.state.errors.serie}</span>\r\n                                                                }\r\n                                                                <input type=\"text\" name=\"serie\"\r\n                                                                       className=\"form-control\"\r\n                                                                       onChange={this.handleChange}\r\n                                                                       onBlur={this.validatePayByCard}\r\n                                                                       />\r\n                                                            </label>\r\n                                                            <label htmlFor=\"in_pin\"\r\n                                                                   className=\"col-sm-12 controll-label\">\r\n                                                                <span>Mã thẻ</span>\r\n                                                                {\r\n                                                                    this.state.errors.hasOwnProperty('number') &&\r\n                                                                    <span\r\n                                                                        className=\"input-error\">{this.state.errors.number}</span>\r\n                                                                }\r\n                                                                <input type=\"text\" name=\"number\"\r\n                                                                       className=\"form-control\"\r\n                                                                       onChange={this.handleChange}\r\n                                                                       onBlur={this.validatePayByCard}\r\n                                                                       />\r\n                                                            </label>\r\n                                                            <button className=\"btn btn-info\" id=\"btnXacnhan\"\r\n                                                                    type={\"button\"}\r\n                                                                    data-id=\"the-cao\"\r\n                                                                    onClick={this.payByCard}\r\n                                                                    disabled={this.state.inProcessing}>\r\n                                                                {\r\n                                                                    !this.state.inProcessing &&\r\n                                                                    <span>Thanh toán</span>\r\n                                                                }\r\n                                                                {\r\n                                                                    this.state.inProcessing &&\r\n                                                                    <div className={'dot-loader'}>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                    </div>\r\n                                                                }\r\n                                                            </button>\r\n                                                            {\r\n                                                                (\r\n                                                                    this.state.processingResult.status !== null &&\r\n                                                                    !this.state.processingResult.status &&\r\n                                                                    <span\r\n                                                                        className=\"message-alert\">{this.state.processingResult.message}</span>\r\n                                                                ) ||\r\n                                                                (\r\n                                                                    this.state.processingResult.status !== null &&\r\n                                                                    this.state.processingResult.status &&\r\n                                                                    <span\r\n                                                                        className=\"message-success\">{this.state.processingResult.message}</span>\r\n                                                                )\r\n                                                            }\r\n                                                            <div className=\"clearfix\"/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"panel panel-default\">\r\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingTwo\">\r\n                                                    <h4 className=\"panel-title\">\r\n                                                        <a role=\"button\" data-toggle=\"collapse\" href=\"#collapseTwo\"\r\n                                                           data-parent=\"#accordion\"\r\n                                                           onClick={this.changePayItem.bind(window.event, 'atm')}\r\n                                                           aria-expanded=\"true\" aria-controls=\"collapseTwo\"\r\n                                                           className=\"trigger collapsed\">\r\n                                                            Thẻ ATM/Nội địa/NAPAS\r\n                                                        </a>\r\n                                                    </h4>\r\n                                                </div>\r\n                                                <div id=\"collapseTwo\" className=\"panel-collapse collapse\"\r\n                                                     role=\"tabpanel\"\r\n                                                     aria-labelledby=\"headingTwo\" data-id=\"Thẻ ATM/Nội địa/NAPAS\">\r\n                                                    <div className=\"panel-body\">\r\n                                                        <div id=\"tab_card_pay\">\r\n                                                            <label htmlFor=\"amount_pay\"\r\n                                                                   className=\"col-sm-12 controll-label\">\r\n                                                                <span>Số tiền thanh toán (VNĐ)</span>\r\n                                                                {\r\n                                                                    this.state.errors.hasOwnProperty('amount') &&\r\n                                                                    <span\r\n                                                                        className=\"input-error\">{this.state.errors.amount}</span>\r\n                                                                }\r\n                                                                <select name=\"amount\" className=\"form-control\"\r\n                                                                        onChange={this.handleChange} onBlur={this.validatePayByATM}>\r\n                                                                    <option value=\"\">Chọn số tiền</option>\r\n                                                                    {\r\n                                                                        _.map(this.state.atmValuesList, (itemValue, itemIndex) =>\r\n                                                                            <option key={itemIndex}\r\n                                                                                    value={itemValue.value}>{itemValue.displayText}</option>\r\n                                                                        )\r\n                                                                    }\r\n                                                                </select>\r\n                                                            </label>\r\n                                                            <button className=\"btn btn-info\" id=\"btnXacnhan\"\r\n                                                                    type={\"button\"} data-id=\"the-atm\"\r\n                                                                    onClick={this.payByATM}\r\n                                                                    disabled={this.state.inProcessing}>\r\n                                                                {\r\n                                                                    !this.state.inProcessing &&\r\n                                                                    <span>Thanh toán</span>\r\n                                                                }\r\n                                                                {\r\n                                                                    this.state.inProcessing &&\r\n                                                                    <div className={'dot-loader'}>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                        <div></div>\r\n                                                                    </div>\r\n                                                                }\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"message-alert\">NẠP HPCODE = 100% ; GATE = 100% ; VCOIN = 90% ; ATM =\r\n                                        100% (Thẻ HPCode có\r\n                                        bán ở các cửa hàng của Payoo &amp; bán online tại Website Napthegame.net )\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"message-item\" id=\"accGetRole\">\r\n                                <div className=\"message-inner\">\r\n                                    <div className=\"message-head clearfix\">\r\n                                        <div className=\"user-detail\">\r\n                                            <h5 className=\"handle\">Chọn server để nạp tiền vào game</h5>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"qa-message-content content_server\">\r\n                                        <div className=\"divserverList\">\r\n                                            <input type=\"hidden\" name=\"agent\" id=\"agent\" defaultValue=\"m002\"/>\r\n                                            <label htmlFor=\"server_group\" className=\"col-sm-12 controll-label\">\r\n                                                Chọn cụm máy chủ:\r\n                                            </label>\r\n                                            <select name=\"server_group\" className=\"form-control \"\r\n                                                    id=\"server_group\"\r\n                                                    onChange={this.changeServerGroup}\r\n                                            >\r\n                                                <option value=\"\">Chọn group server</option>\r\n                                                {\r\n                                                    _.map(this.state.serverGroups, (serverGroupValue, serverGroupIndex) =>\r\n                                                        <option key={serverGroupIndex} value={serverGroupIndex}>\r\n                                                            Cụm máy\r\n                                                            chủ {serverGroupIndex * 10 + 1} - {serverGroupIndex * 10 + 10}\r\n                                                        </option>\r\n                                                    )\r\n                                                }\r\n                                            </select>\r\n                                            <label htmlFor=\"server_list\" className=\"col-sm-12 controll-label\"\r\n                                                   style={{width: 'auto'}}>\r\n                                                Chọn server:\r\n                                            </label>\r\n                                            <select name=\"server_id\" className=\"form-control \"\r\n                                                    id=\"server_list\"\r\n                                                    disabled={this.state.isDisableSelectServers}\r\n                                                    onChange={this.handleServerChanged}\r\n                                            >\r\n                                                <option value=\"\">Chọn server</option>\r\n                                                {\r\n                                                    _.map(this.state.serversList, (serverValue, serverIndex) =>\r\n                                                        <option key={serverIndex} value={serverValue.server_id}>\r\n                                                            {serverValue.server_name}\r\n                                                        </option>\r\n                                                    )\r\n                                                }\r\n                                            </select>\r\n                                        </div>\r\n                                        <div id=\"appentHtml\">\r\n                                            <div className=\"role-name\">\r\n                                                {this.state.roleName}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"clearfix\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"message-item\" id=\"accRang\">\r\n                                <div className=\"message-inner\">\r\n                                    <div className=\"message-head clearfix\">\r\n                                        <div className=\"user-detail\">\r\n                                            <h5 className=\"handle\">Chọn gói vật phẩm</h5>\r\n                                            <p className=\"tab\" id=\"coingold\">Gói Nguyên Bảo</p>\r\n                                            <p className=\"tab\" id=\"coingift\">Gói Quà Đặc Biệt</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"qa-message-content\">\r\n                                        <div className=\"form-group resultCoin\">\r\n                                            <div id=\"showcoingold\"/>\r\n                                            <div id=\"showcoingift\"/>\r\n                                        </div>\r\n                                        <div className=\"clearfix\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div id=\"myModal\" className=\"modal\">\r\n                                <div className=\"modal-content clearfix\">\r\n                                    <h1>Xác nhận giao dịch</h1>\r\n                                    <input type=\"submit\" name=\"submit\" id=\"submitbutton\"\r\n                                           className=\"col-sm-3 btn btn-primary\"\r\n                                           defaultValue=\"Thanh toán\"/>\r\n                                    <div className=\"clearfix\"/>\r\n                                    <span className=\"close btn-danger\">Chấp nhận</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"modal modal-atm-report fade\" tabIndex=\"-1\" role=\"dialog\" data-backdrop=\"false\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-body\">\r\n                                <p className={\"text-center\"}>{this.state.atmResponseMessage}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}