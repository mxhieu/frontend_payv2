{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\src\\\\components\\\\HistoryPayFilter.js\";\nimport React, { Component } from 'react';\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\nimport { connect } from 'react-redux';\nimport historyActions from \"../actions/history.actions\";\nimport gameActions from \"../actions/games.actions\";\nimport { withRouter } from 'react-router-dom';\n\nclass HistoryPayFilter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const target = event.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleEvent = (event, picker) => {\n      this.setState({\n        inputStart: picker.startDate.format('DD/MM/YYYY'),\n        inputFinish: picker.endDate.format('DD/MM/YYYY'),\n        formDate: picker.startDate.format('YYYY-MM-DD'),\n        toDate: picker.endDate.format('YYYY-MM-DD')\n      });\n    };\n\n    this.handleFilter = e => {\n      e.preventDefault();\n      let username = JSON.parse(localStorage.getItem('user')).data.username;\n\n      if (this.props.match.url.includes('lich-su-game')) {\n        this.props.filterPayToGameHistory(username, this.state.sltGame, this.state.formDate, this.state.toDate);\n      } else {\n        this.props.filterCardHistory(username, this.state.sltGame, this.state.formDate, this.state.toDate);\n      }\n    };\n\n    var date = new Date();\n    var currentDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\n    var currentDateRequest = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n    this.state = {\n      data: [],\n      sltGame: '',\n      inputStart: currentDate,\n      inputFinish: currentDate,\n      formDate: currentDateRequest,\n      toDate: currentDateRequest\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.props.match.url.includes('lich-su-game')) {\n      if (this.props.historyReducer.payToGameHistory.length > 0) {\n        this.props.setData(this.props.historyReducer.payToGameHistory, this.props.gamesReducer.data);\n      } else {\n        this.props.setData([]);\n      }\n    } else {\n      if (this.props.historyReducer.cardHistory.length > 0) {\n        this.props.setData(this.props.historyReducer.cardHistory, this.props.gamesReducer.data);\n      } else {\n        this.props.setData([]);\n      }\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (Object.keys(nextProps.gamesReducer.data).length === 0) {\n      nextProps.getGameList();\n    }\n\n    return null;\n  }\n\n  render() {\n    let gameElement = null;\n\n    if (this.props.gamesReducer['data'].length > 0) {\n      gameElement = this.props.gamesReducer['data'].map((val, index) => {\n        return React.createElement(\"option\", {\n          key: index,\n          value: val.agent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, val.name);\n      });\n    }\n\n    return React.createElement(\"form\", {\n      method: \"POST\",\n      name: \"cardhistory\",\n      onSubmit: this.handleFilter,\n      id: \"cardhistory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-row width-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"config-form\",\n      className: \"col-sm-2 controll-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Product:\"), React.createElement(\"select\", {\n      name: \"sltGame\",\n      className: \"form-control\",\n      id: \"config-form\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"All\"), gameElement)), React.createElement(\"div\", {\n      className: \"box-row width-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"config-demo\",\n      className: \"controll-label col-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Time:\"), React.createElement(DateRangePicker, {\n      autoApply: true,\n      autoUpdateInput: false,\n      startDate: this.state.inputStart,\n      endDate: this.state.inputFinish,\n      locale: {\n        format: \"DD/MM/YYYY\"\n      },\n      onEvent: this.handleEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"txtDaterange\",\n      value: this.state.inputStart + ' - ' + this.state.inputFinish,\n      readOnly: true,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      disabled: this.props.isLoadingReducer.isLoading,\n      id: \"submitbutton\",\n      className: \"col-sm-2 btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.props.isLoadingReducer.isLoading ? React.createElement(\"div\", {\n      className: 'dot-loader',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })) : 'Tìm kiếm'));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  gamesReducer: state.gamesReducer,\n  historyReducer: state.historyReducer,\n  isLoadingReducer: state.isLoadingReducer\n});\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    filterCardHistory: (username, game, formDate, toDate) => {\n      dispatch(historyActions.getCardHistoryRequest(username, game, formDate, toDate));\n    },\n    filterPayToGameHistory: (username, game, formDate, toDate) => {\n      dispatch(historyActions.filterPayToGameHistoryRequest(username, game, formDate, toDate));\n    },\n    getGameList: () => {\n      dispatch(gameActions.getAllRequest());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(HistoryPayFilter));","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/components/HistoryPayFilter.js"],"names":["React","Component","DateRangePicker","connect","historyActions","gameActions","withRouter","HistoryPayFilter","constructor","props","handleChange","event","target","value","type","checked","name","setState","handleEvent","picker","inputStart","startDate","format","inputFinish","endDate","formDate","toDate","handleFilter","e","preventDefault","username","JSON","parse","localStorage","getItem","data","match","url","includes","filterPayToGameHistory","state","sltGame","filterCardHistory","date","Date","currentDate","getDate","getMonth","getFullYear","currentDateRequest","componentDidUpdate","historyReducer","payToGameHistory","length","setData","gamesReducer","cardHistory","getDerivedStateFromProps","nextProps","prevState","Object","keys","getGameList","render","gameElement","map","val","index","agent","isLoadingReducer","isLoading","mapStateToProps","mapDispatchToProps","dispatch","game","getCardHistoryRequest","filterPayToGameHistoryRequest","getAllRequest"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap-daterangepicker/daterangepicker.css';\r\nimport { connect } from 'react-redux'\r\nimport historyActions from \"../actions/history.actions\"\r\nimport gameActions from \"../actions/games.actions\"\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass HistoryPayFilter extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        var date = new Date();\r\n        var currentDate = `${date.getDate()}/${date.getMonth()+1}/${date.getFullYear()}`\r\n        var currentDateRequest = `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}`\r\n        this.state = {\r\n            data: [],\r\n            sltGame: '',\r\n            inputStart: currentDate,\r\n            inputFinish: currentDate,\r\n            formDate: currentDateRequest,\r\n            toDate: currentDateRequest\r\n        };\r\n    }\r\n\r\n    handleChange = (event) =>{\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    \r\n    handleEvent = (event, picker) => {\r\n        this.setState({\r\n          inputStart: picker.startDate.format('DD/MM/YYYY') ,\r\n          inputFinish: picker.endDate.format('DD/MM/YYYY') ,\r\n          formDate: picker.startDate.format('YYYY-MM-DD') ,\r\n          toDate: picker.endDate.format('YYYY-MM-DD') ,\r\n        });\r\n    }\r\n\r\n    handleFilter = (e) => {\r\n        e.preventDefault();\r\n        let username = JSON.parse(localStorage.getItem('user')).data.username;\r\n        if(this.props.match.url.includes('lich-su-game')){\r\n            this.props.filterPayToGameHistory(username, this.state.sltGame, this.state.formDate, this.state.toDate)\r\n        }\r\n        else{\r\n            this.props.filterCardHistory(username, this.state.sltGame, this.state.formDate, this.state.toDate)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(this.props.match.url.includes('lich-su-game')){\r\n            if(this.props.historyReducer.payToGameHistory.length > 0){\r\n                this.props.setData(this.props.historyReducer.payToGameHistory, this.props.gamesReducer.data)\r\n            }\r\n            else{\r\n                this.props.setData([])\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(this.props.historyReducer.cardHistory.length > 0){\r\n                this.props.setData(this.props.historyReducer.cardHistory, this.props.gamesReducer.data)\r\n            }\r\n            else{\r\n                this.props.setData([])\r\n            }\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if( Object.keys(nextProps.gamesReducer.data).length === 0){\r\n            nextProps.getGameList();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        let gameElement = null\r\n        if(this.props.gamesReducer['data'].length > 0)\r\n        {\r\n            gameElement = this.props.gamesReducer['data'].map((val, index) => {\r\n                                    return <option key={index} value={val.agent}>{val.name}</option>\r\n                                })\r\n        }\r\n        return (\r\n            <form method=\"POST\" name=\"cardhistory\" onSubmit={this.handleFilter} id=\"cardhistory\">\r\n                <div className=\"box-row width-100\"><label htmlFor=\"config-form\" className=\"col-sm-2 controll-label\">Product:</label>\r\n                    <select name=\"sltGame\" className=\"form-control\" id=\"config-form\" onChange={this.handleChange}>\r\n                        <option value>All</option>\r\n                        {gameElement}\r\n                    </select>\r\n                </div>\r\n                <div className=\"box-row width-100\">\r\n                    <label htmlFor=\"config-demo\" className=\"controll-label col-sm-2\">Time:</label>\r\n                    <DateRangePicker\r\n                        autoApply={true}\r\n                        autoUpdateInput={false}\r\n                        startDate={this.state.inputStart}\r\n                        endDate={this.state.inputFinish}\r\n                        locale={{ format: \"DD/MM/YYYY\" }}\r\n                        onEvent={this.handleEvent}\r\n                        >\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"txtDaterange\"\r\n                            value={this.state.inputStart + ' - ' + this.state.inputFinish}\r\n                            readOnly={true}\r\n                            className=\"form-control\"\r\n                        />\r\n                    </DateRangePicker>\r\n                </div>\r\n                {/* <button id=\"submitbutton\" className=\"col-sm-2 btn btn-primary\">Search</button> */}\r\n                <button disabled={this.props.isLoadingReducer.isLoading} id=\"submitbutton\" className=\"col-sm-2 btn btn-primary\">{this.props.isLoadingReducer.isLoading?\r\n                            <div className={'dot-loader'}>\r\n                                <div></div>\r\n                                <div></div>\r\n                                <div></div>\r\n                                <div></div>\r\n                                <div></div>\r\n                            </div>\r\n                            :'Tìm kiếm'}</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    gamesReducer: state.gamesReducer,\r\n    historyReducer: state.historyReducer,\r\n    isLoadingReducer: state.isLoadingReducer\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        filterCardHistory: (username, game, formDate, toDate ) => {\r\n            dispatch(historyActions.getCardHistoryRequest(username, game, formDate, toDate))\r\n        },\r\n        filterPayToGameHistory: (username, game, formDate, toDate ) => {\r\n            dispatch(historyActions.filterPayToGameHistoryRequest(username, game, formDate, toDate))\r\n        },\r\n        getGameList: () => {\r\n            dispatch(gameActions.getAllRequest())\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(HistoryPayFilter));"]},"metadata":{},"sourceType":"module"}