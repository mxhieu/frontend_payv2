{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\reactjs\\\\payv2\\\\pay-v2.phoeniz.com\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import loginActionTypes from'../actionTypes/login.actiontypes';import Api from'.././utils/Api';import ApiConfig from'../config/ApiConfig';import isLoading from\"./isloading.actions\";var loginAction={};loginAction.Login=function(username,password){var endpoint=ApiConfig.domain+ApiConfig.endpoint.login+'?username='+username+'&password='+password;return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(isLoading.showLoader());_context.next=3;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1){dispatch(loginAction.success(result));}else{dispatch(loginAction.failure(result));}});case 3:dispatch(isLoading.hideLoader());case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};loginAction.loginFacebookRequest=function(accessToken){var endpoint='https://graph.facebook.com/me?fields=token_for_business&access_token='+accessToken;return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://Get bussiness token\ndispatch(isLoading.showLoader());_context2.next=3;return Api.call('GET',endpoint).then(function(res){if(res.status===200&&res.data.token_for_business){dispatch(loginAction.loginFacebook(accessToken,res.data.token_for_business));}});case 3:dispatch(isLoading.hideLoader());case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};loginAction.loginFacebook=function(bussinessToken){var endpoint=ApiConfig.domain+ApiConfig.endpoint.loginFb+\"?tokenForBusiness=\"+bussinessToken;return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1){dispatch(loginAction.success(result));}else{dispatch(loginAction.failure(result));}});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};loginAction.loginGoogle=function(email){var endpoint=ApiConfig.domain+ApiConfig.endpoint.loginGg+\"?email=\"+email;return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0://Get data form api\ndispatch(isLoading.showLoader());_context4.next=3;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1){dispatch(loginAction.success(result));}else{dispatch(loginAction.failure(result));}});case 3:dispatch(isLoading.hideLoader());case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}());};loginAction.LoginApple=function(sub){var endpoint=ApiConfig.domain+ApiConfig.endpoint.loginApple+\"?sub=\"+sub;console.log(endpoint);return(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0://Get data form api\ndispatch(isLoading.showLoader());_context5.next=3;return Api.call('GET',endpoint).then(function(result){if(result.data.status===1){dispatch(loginAction.success(result));}else{dispatch(loginAction.failure(result));}});case 3:dispatch(isLoading.hideLoader());case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}());};loginAction.success=function(result){return{type:loginActionTypes.LOGIN_SUCCESS,result:result};};loginAction.failure=function(result){return{type:loginActionTypes.LOGIN_FAILURE,result:result};};loginAction.logout=function(){return{type:loginActionTypes.LOGOUT};};export default loginAction;","map":{"version":3,"sources":["C:/reactjs/payv2/pay-v2.phoeniz.com/src/actions/login.actions.js"],"names":["loginActionTypes","Api","ApiConfig","isLoading","loginAction","Login","username","password","endpoint","domain","login","dispatch","showLoader","call","then","result","data","status","success","failure","hideLoader","loginFacebookRequest","accessToken","res","token_for_business","loginFacebook","bussinessToken","loginFb","loginGoogle","email","loginGg","LoginApple","sub","loginApple","console","log","type","LOGIN_SUCCESS","LOGIN_FAILURE","logout","LOGOUT"],"mappings":"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","sourcesContent":["import loginActionTypes from '../actionTypes/login.actiontypes';\r\nimport Api from '.././utils/Api';\r\nimport ApiConfig from '../config/ApiConfig';\r\nimport isLoading from \"./isloading.actions\";\r\n\r\nconst loginAction = {};\r\n\r\nloginAction.Login = (username, password) => {\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.login + '?username='+ username + '&password=' + password;\r\n    return async (dispatch) => {\r\n        dispatch(isLoading.showLoader())\r\n        await Api.call('GET', endpoint ).then( result => {\r\n            if(result.data.status === 1){\r\n                dispatch(loginAction.success(result))\r\n            }\r\n            else{\r\n                dispatch(loginAction.failure(result))\r\n            }\r\n        })\r\n        dispatch(isLoading.hideLoader())\r\n    }\r\n}\r\n\r\nloginAction.loginFacebookRequest = (accessToken) => {\r\n    let endpoint = 'https://graph.facebook.com/me?fields=token_for_business&access_token='+accessToken;\r\n    return async (dispatch) => {\r\n        //Get bussiness token\r\n        dispatch(isLoading.showLoader())\r\n        await Api.call('GET', endpoint ).then(res => {\r\n            if(res.status === 200 && res.data.token_for_business)\r\n            {\r\n                dispatch(loginAction.loginFacebook(accessToken, res.data.token_for_business));\r\n            }            \r\n        })\r\n        dispatch(isLoading.hideLoader())\r\n    }\r\n}\r\n\r\nloginAction.loginFacebook = (bussinessToken) => {\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.loginFb + \"?tokenForBusiness=\"+ bussinessToken;\r\n    return async (dispatch) => {\r\n        //Get data form api\r\n        await Api.call('GET', endpoint ).then(result => {\r\n            if(result.data.status === 1){\r\n                dispatch(loginAction.success(result))\r\n            }\r\n            else{\r\n                dispatch(loginAction.failure(result))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nloginAction.loginGoogle = (email) => {\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.loginGg + \"?email=\"+ email;\r\n    return async (dispatch) => {\r\n        //Get data form api\r\n        dispatch(isLoading.showLoader())\r\n        await Api.call('GET', endpoint ).then(result => {\r\n            if(result.data.status === 1){\r\n                dispatch(loginAction.success(result))\r\n            }\r\n            else{\r\n                dispatch(loginAction.failure(result))\r\n            }\r\n        })\r\n        dispatch(isLoading.hideLoader())\r\n    }\r\n}\r\n\r\nloginAction.LoginApple = (sub) => {\r\n    let endpoint = ApiConfig.domain + ApiConfig.endpoint.loginApple + \"?sub=\"+sub;\r\n    console.log(endpoint);\r\n    return async (dispatch) => {\r\n        //Get data form api\r\n        dispatch(isLoading.showLoader())\r\n        await Api.call('GET', endpoint ).then(result => {\r\n            if(result.data.status === 1){\r\n                dispatch(loginAction.success(result))\r\n            }\r\n            else{\r\n                dispatch(loginAction.failure(result))\r\n            }\r\n        })\r\n        dispatch(isLoading.hideLoader())\r\n    }\r\n}\r\n\r\nloginAction.success = (result) => {\r\n    return {\r\n        type: loginActionTypes.LOGIN_SUCCESS,\r\n        result\r\n    };\r\n}\r\n\r\nloginAction.failure = (result) => {\r\n    return {\r\n        type: loginActionTypes.LOGIN_FAILURE,\r\n        result\r\n    };\r\n}\r\n\r\nloginAction.logout = () => {\r\n    return {\r\n        type: loginActionTypes.LOGOUT,\r\n    };\r\n}\r\n\r\nexport default loginAction;"]},"metadata":{},"sourceType":"module"}