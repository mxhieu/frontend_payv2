{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactjs\\\\payv2\\\\myapp\\\\src\\\\components\\\\GoogleLogin.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport SocialConfig from \"../config/SocialConfig\";\nimport loginAction from '../actions/login.actions';\n\nclass GoogleLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.prepareLoginButton = () => {\n      this.auth2.attachClickHandler(this.refs.googleLoginBtn, {}, googleUser => {\n        let profile = googleUser.getBasicProfile();\n        this.setState({\n          email: profile.getEmail()\n        });\n        this.props.googleLogin(this.state.email);\n      });\n    };\n\n    this.onHandleClick = e => {\n      e.preventDefault();\n    };\n\n    this.state = {\n      email: ''\n    };\n  }\n\n  componentDidMount() {\n    window['googleSDKLoaded'] = () => {\n      window['gapi'].load('auth2', () => {\n        this.auth2 = window['gapi'].auth2.init({\n          client_id: SocialConfig.google.app_id,\n          cookiepolicy: 'single_host_origin',\n          scope: 'profile email'\n        });\n        this.prepareLoginButton();\n      });\n    };\n\n    (function (d, s, id) {\n      var js,\n          fjs = d.getElementsByTagName(s)[0];\n\n      if (d.getElementById(id)) {\n        return;\n      }\n\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'google-jssdk');\n  }\n\n  render() {\n    console.log(this.state);\n    return React.createElement(\"a\", {\n      href: \"/#\",\n      onClick: this.onHandleClick,\n      ref: \"googleLoginBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row-login\",\n      id: \"btnGoogle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-google\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Google\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    login: state.loginReducer\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    googleLogin: email => {\n      dispatch(loginAction.loginGoogle(email));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GoogleLogin);","map":{"version":3,"sources":["C:/reactjs/payv2/myapp/src/components/GoogleLogin.js"],"names":["React","Component","connect","SocialConfig","loginAction","GoogleLogin","constructor","props","prepareLoginButton","auth2","attachClickHandler","refs","googleLoginBtn","googleUser","profile","getBasicProfile","setState","email","getEmail","googleLogin","state","onHandleClick","e","preventDefault","componentDidMount","window","load","init","client_id","google","app_id","cookiepolicy","scope","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","render","console","log","mapStateToProps","login","loginReducer","mapDispatchToProps","dispatch","loginGoogle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport SocialConfig from \"../config/SocialConfig\";\r\nimport loginAction from '../actions/login.actions';\r\n\r\nclass GoogleLogin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            email : '',\r\n        };\r\n    }\r\n\r\n    componentDidMount() { \r\n        window['googleSDKLoaded'] = () => {\r\n            window['gapi'].load('auth2', () => {\r\n                this.auth2 = window['gapi'].auth2.init({\r\n                    client_id: SocialConfig.google.app_id,\r\n                    cookiepolicy: 'single_host_origin',\r\n                    scope: 'profile email'\r\n                });\r\n                this.prepareLoginButton();\r\n            });\r\n        }\r\n        \r\n        (function(d, s, id){\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) {return;}\r\n            js = d.createElement(s); js.id = id;\r\n            js.src = \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'google-jssdk'));\r\n    }\r\n\r\n    prepareLoginButton = () => {     \r\n        this.auth2.attachClickHandler(this.refs.googleLoginBtn, {},\r\n        (googleUser) => {\r\n            let profile = googleUser.getBasicProfile();\r\n            this.setState({\r\n                email: profile.getEmail()\r\n            })\r\n            this.props.googleLogin(this.state.email);\r\n        });\r\n    }\r\n\r\n    onHandleClick = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        return (\r\n            <a href=\"/#\" onClick={this.onHandleClick} ref=\"googleLoginBtn\"><div className=\"row-login\" id=\"btnGoogle\">\r\n                <i className=\"fa fa-google\" aria-hidden=\"true\" />\r\n                <p>Đăng nhập bằng Google</p>\r\n                </div>\r\n            </a>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        login: state.loginReducer\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        googleLogin: (email) => {\r\n            dispatch(loginAction.loginGoogle(email))\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(GoogleLogin);"]},"metadata":{},"sourceType":"module"}